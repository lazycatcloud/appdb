<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="theme-color" content="#ffffff" />
    <meta
      content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width viewport-fit=cover"
      name="viewport"
    />
    <title>RustDesk</title>
    <style>
      li {
        margin: 14px;
        line-height: 36px;
      }
      code {
        background-color: #eeeecc;
        color: blank;
        padding: 7px;
        border: 14px;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <ul>
        <li>
          1. 安装 Rustdesk 的客户端 <br />
          Archlinux 下，可以直接执行 <code>pacman -S rustdesk</code>

          <br />
          支持 Android, Windows, MacOS, iOS 各种系统。
          <a
            href="https://github.com/rustdesk/rustdesk/releases/tag/1.3.0"
            target="_blank"
            >点击打开下载界面</a
          >

          <br />
          浏览器中可以直接使用 Web 客户端（目前 Web 客户端处于 Beta
          阶段，推荐使用本地原生客户端进行访问）
          <button onclick="openWebClient()">点击打开 Web 端</button>
        </li>
        <li>
          2. Linux, Windows, MacOs 端打开 RustDesk 后点击顶部的设置按钮<br />
          <img src="rustdesk-setting.png" />

          <br />
          点击网络 -> 填写对应的网络配置<br />
          <b
            >ID服务器写您的
            <code id="hostname">rustdeskoss.$name.heiyu.space</code>
          </b>
          <br />
          中继服务器可以留空，默认会从 ID/服务器 信息中推导.<br />
          <b>目前是随机生成的</b> Key:<code id="rustdeskosskey"></code><br />
          <img src="rustdesk-network-config.png" /> <br />

          填写完成后，点击应用保存。
        </li>
        <li>
          3. Web 客户端使用方式.
          <button onclick="openWebClient()">点击打开 Web 端</button>
          <br />

          打开后，点击网页的右上角的菜单按钮 <br/>
          <img src="rustdesk-web-settings.png" />
          <br />

          选择打开 ID/Relay Server 选项 <br/>
          <img src="rustdesk-web-open-id-server.png" /> <br />

          填写服务器地址，这部分信息见前面 Windows, Linux, MacOS 配置内容 <br />
          <img src="rustdesk-web-config.png" /> <br />

          连接其他 RustDesk ID <br />
          <img src="rustdesk-web-connect-id.png" /> <br />
          填写完成后，点击右边的 -> 即能正常访问被邀请的机器.
        </li>
        <li>
          4. 其他客户端相同的配置方式，配置完成后，就可以通过 ID
          来控制别的电脑了
        </li>
      </ul>
    </div>
  </body>
  <script>
    let hostname = document.getElementById("hostname");
    hostname.innerText = document.location.host;

    fetch("/key")
      .then((response) => response.text())
      .then((data) => {
        let e = document.getElementById("rustdeskosskey");
        e.innerText = data;
      })
      .catch((error) => {
        alert(`获取key时出错: ${error}`);
      });

    function openWebClient() {
      window.open("/web", "_blank");
    }
  </script>
</html>
