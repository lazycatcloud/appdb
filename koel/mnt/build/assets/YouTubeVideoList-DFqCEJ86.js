function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Btn-2hiIT76k.js","assets/userStore-DI58VgZ6.js","assets/userStore-CkW9hTsr.css","assets/YouTubeVideoItem--uGIR2YZ.js","assets/app-Dh_3ddLE.js","assets/index-bkhK2U3_.js","assets/common-Qp7bRr50.js","assets/index-BBRRzm9T.js","assets/app-ByHGIipi.css","assets/YouTubeVideoItem-DoIGgmTI.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{S as V,M as B,f as w,t as E,a4 as _,a5 as p,v as C,r as v,h as L,w as x,o as a,n as o,a0 as h,T as m,a1 as Y,W as O,B as y,y as P,z as S,Y as f,A as g,U as i}from"./userStore-DI58VgZ6.js";import{b as A}from"./Btn-2hiIT76k.js";const I={searchVideosBySong:async(e,n)=>await V.remember(["youtube.search",e.id,n],async()=>await B.get(`youtube/search/song/${e.id}?pageToken=${n}`)),play:e=>{w.emit("PLAY_YOUTUBE_VIDEO",{id:e.id.videoId,title:e.snippet.title})}},M={class:"youtube-extra-wrapper overflow-x-hidden"},N={class:"space-y-4 mb-8"},D={key:1},R={key:2},U=["onClick"],j=E({__name:"YouTubeVideoList",props:{song:{}},setup(e){const n=e,b=_(()=>p(()=>import("./Btn-2hiIT76k.js").then(t=>t.i),__vite__mapDeps([0,1,2]))),k=_(()=>p(()=>import("./YouTubeVideoItem--uGIR2YZ.js"),__vite__mapDeps([3,1,2,4,5,0,6,7,8,9]))),{song:c}=C(n),s=v(!1),r=v([]);let l="";const u=async()=>{s.value=!0;try{const t=await I.searchVideosBySong(c.value,l);l=t.nextPageToken,r.value.push(...t.items||[])}catch(t){A().handleHttpError(t)}finally{s.value=!1}},T=L(()=>!s.value&&r.value.length===0);return x(c,()=>{r.value=[],l="",u()},{immediate:!0}),(t,z)=>(a(),o("div",M,[r.value.length?(a(),o(h,{key:0},[m("ul",N,[(a(!0),o(h,null,Y(r.value,d=>(a(),o("li",{key:d.id.videoId,"data-testid":"youtube-video"},[O(y(k),{video:d},null,8,["video"])]))),128))]),s.value?i("",!0):(a(),P(y(b),{key:0,small:"",onClick:g(u,["prevent"])},{default:S(()=>[f("Load More")]),_:1},8,["onClick"]))],64)):i("",!0),s.value?(a(),o("p",D,"Loadingâ€¦")):i("",!0),T.value?(a(),o("p",R,[f(" Failed to load videos. "),m("a",{onClick:g(u,["prevent"]),href:"#"},"Try again",8,U)])):i("",!0)]))}}),W=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{W as Y,I as y};
