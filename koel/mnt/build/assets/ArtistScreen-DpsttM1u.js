function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ArtistInfo-Lz5UFYmJ.js","assets/userStore-DI58VgZ6.js","assets/userStore-CkW9hTsr.css","assets/index-Dvdk0smA.js","assets/index-bkhK2U3_.js","assets/app-Dh_3ddLE.js","assets/Btn-2hiIT76k.js","assets/common-Qp7bRr50.js","assets/index-BBRRzm9T.js","assets/app-ByHGIipi.css","assets/TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js","assets/usePlaylistManagement-BYa-nJNx.js","assets/downloadService-C6bGKWwx.js","assets/SoundBars-BQEuboqd.js","assets/index-SJV2sFs2.js","assets/index-DX8rpkdI.css","assets/ExpandableContentBlock.vue_vue_type_script_setup_true_lang-DjEn_-8g.js","assets/AlbumCard-DCvw717Q.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{t as oe,a4 as g,a5 as k,r as p,ac as le,i as se,h as ne,w as L,e as re,d as E,s as ue,f as ie,k as de,o as t,y as i,z as u,U as d,B as e,W as f,T as r,V as b,p as D,n as y,A as me,Y as A,am as ce,X as w,m,aA as h,aa as P,a0 as I,a1 as T}from"./userStore-DI58VgZ6.js";import{d as ve}from"./downloadService-C6bGKWwx.js";import{b as pe}from"./Btn-2hiIT76k.js";import{u as fe}from"./app-Dh_3ddLE.js";import{u as ye,c as Se,f as _e,S as be,A as Ae,d as ge,e as ke,b as we}from"./index-Dvdk0smA.js";import{S as he}from"./ScreenHeaderSkeleton-BPPtSZSV.js";import{S as Pe}from"./ArtistAlbumScreenTabs-BtbdPDVW.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import"./usePlaylistManagement-BYa-nJNx.js";import"./SoundBars-BQEuboqd.js";import"./index-SJV2sFs2.js";const Ce=["onClick"],Ve={class:"songs-pane"},Le={class:"albums-pane"},Ee={key:0,class:"info-pane"},Xe=oe({__name:"ArtistScreen",setup(De){const B=g(()=>k(()=>import("./ArtistInfo-Lz5UFYmJ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),R=g(()=>k(()=>import("./AlbumCard-DCvw717Q.js"),__vite__mapDeps([17,3,1,2,4,5,6,7,8,9,10,11,12,13,14,15]))),F=g(()=>k(()=>import("./index-Dvdk0smA.js").then(n=>n.s),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12,13,14,15]))),a=p("Songs"),{getRouteParam:U,go:x,onScreenActivated:N}=fe(),C=p(),s=p(),c=p([]),v=p(!1);let S=p();const{SongList:O,ControlsToggle:z,headerLayout:H,songList:G,showingControls:_,isPhone:M,context:W,duration:X,onPressEnter:Y,playAll:j,playSelected:q,applyFilter:J,onScrollBreakpoint:K}=ye(c,{type:"Artist"}),{SongListControls:Q,config:Z}=Se("Artist"),{useLastfm:V}=_e(),$=le(se.state,"allows_download"),ee=ne(()=>{const n=new Set;return c.value.forEach(o=>n.add(o.album_id)),n.size});L(a,async n=>{n==="Albums"&&!S.value&&(S.value=await re.fetchForArtist(s.value))}),L(C,async n=>{if(!(!n||v.value)){v.value=!0;try{[s.value,c.value]=await Promise.all([E.resolve(n),ue.fetchForArtist(n)]),W.entity=s.value}catch(o){pe("dialog").handleHttpError(o)}finally{v.value=!1}}});const ae=()=>ve.fromArtist(s.value);return N("Artist",()=>C.value=parseInt(U("id"))),ie.on("SONGS_UPDATED",()=>E.byId(s.value.id)||x("artists")),(n,o)=>{const te=de("koel-overflow-fade");return s.value?(t(),i(we,{key:0},{header:u(()=>[v.value?(t(),i(he,{key:0})):d("",!0),!v.value&&s.value?(t(),i(be,{key:1,layout:c.value.length===0?"collapsed":e(H)},{thumbnail:u(()=>[f(Ae,{entity:s.value},null,8,["entity"])]),meta:u(()=>[r("span",null,b(e(D)(ee.value,"album")),1),r("span",null,b(e(D)(c.value,"item")),1),r("span",null,b(e(X)),1),$.value?(t(),y("a",{key:0,class:"download",role:"button",title:"Download all songs by this artist",onClick:me(ae,["prevent"])}," Download All ",8,Ce)):d("",!0)]),controls:u(()=>[c.value.length&&(!e(M)||e(_))?(t(),i(e(Q),{key:0,config:e(Z),onFilter:e(J),onPlayAll:e(j),onPlaySelected:e(q)},null,8,["config","onFilter","onPlayAll","onPlaySelected"])):d("",!0)]),default:u(()=>[A(b(s.value.name)+" ",1),f(e(z),{modelValue:e(_),"onUpdate:modelValue":o[0]||(o[0]=l=>ce(_)?_.value=l:null)},null,8,["modelValue"])]),_:1},8,["layout"])):d("",!0)]),default:u(()=>[f(Pe,{class:"-m-6"},{header:u(()=>[r("label",{class:w({active:a.value==="Songs"})},[A(" Songs "),m(r("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>a.value=l),name:"tab",type:"radio",value:"Songs"},null,512),[[h,a.value]])],2),r("label",{class:w({active:a.value==="Albums"})},[A(" Albums "),m(r("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>a.value=l),name:"tab",type:"radio",value:"Albums"},null,512),[[h,a.value]])],2),e(V)?(t(),y("label",{key:0,class:w({active:a.value==="Info"})},[A(" Information "),m(r("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>a.value=l),name:"tab",type:"radio",value:"Info"},null,512),[[h,a.value]])],2)):d("",!0)]),default:u(()=>[m(r("div",Ve,[v.value?(t(),i(ge,{key:0})):(t(),i(e(O),{key:1,ref_key:"songList",ref:G,"onPress:enter":e(Y),onScrollBreakpoint:e(K)},null,8,["onPress:enter","onScrollBreakpoint"]))],512),[[P,a.value==="Songs"]]),m(r("div",Le,[m((t(),i(ke,{"view-mode":"list"},{default:u(()=>[e(S)?(t(!0),y(I,{key:0},T(e(S),l=>(t(),i(e(R),{key:l.id,album:l,layout:"compact"},null,8,["album"]))),128)):(t(),y(I,{key:1},T(6,l=>f(e(F),{key:l,layout:"compact"})),64))]),_:1})),[[te]])],512),[[P,a.value==="Albums"]]),e(V)&&s.value?m((t(),y("div",Ee,[f(e(B),{artist:s.value,mode:"full"},null,8,["artist"])],512)),[[P,a.value==="Info"]]):d("",!0)]),_:1})]),_:1})):d("",!0)}}});export{Xe as default};
