import{t as k,r as O,h as c,b as h,f as s,o,y as M,z as R,n as u,a0 as _,T as t,U as m,B as D,s as p}from"./userStore-DI58VgZ6.js";import{u as b,p as y}from"./app-Dh_3ddLE.js";import{u as N}from"./useContextMenu-uqGsLwl5.js";import{u as I}from"./Btn-2hiIT76k.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./index-SJV2sFs2.js";const w=t("li",{class:"separator"},null,-1),x=t("li",{class:"separator"},null,-1),X=k({__name:"PlaylistFolderContextMenu",setup(B){const{base:f,ContextMenu:d,open:E,trigger:l}=N(),{go:n}=b(),{toastWarning:r}=I(),e=O(),L=c(()=>e.value?h.byFolder(e.value):[]),v=c(()=>L.value.length>0),S=()=>l(async()=>{const a=await p.fetchForPlaylistFolder(e.value);a.length?(y.queueAndPlay(a),n("queue")):r("No songs available.")}),A=()=>l(async()=>{const a=await p.fetchForPlaylistFolder(e.value);a.length?(y.queueAndPlay(a,!0),n("queue")):r("No songs available.")}),C=()=>l(()=>s.emit("MODAL_SHOW_CREATE_PLAYLIST_FORM",e.value)),P=()=>l(()=>s.emit("MODAL_SHOW_CREATE_SMART_PLAYLIST_FORM",e.value)),T=()=>l(()=>s.emit("MODAL_SHOW_EDIT_PLAYLIST_FOLDER_FORM",e.value)),g=()=>l(()=>s.emit("PLAYLIST_FOLDER_DELETE",e.value));return s.on("PLAYLIST_FOLDER_CONTEXT_MENU_REQUESTED",async({pageX:a,pageY:i},F)=>{e.value=F,await E(i,a)}),(a,i)=>(o(),M(D(d),{ref_key:"base",ref:f},{default:R(()=>[e.value?(o(),u(_,{key:0},[v.value?(o(),u(_,{key:0},[t("li",{onClick:S},"Play All"),t("li",{onClick:A},"Shuffle All"),w],64)):m("",!0),t("li",{onClick:C},"New Playlist…"),t("li",{onClick:P},"New Smart Playlist…"),x,t("li",{onClick:T},"Rename"),t("li",{onClick:g},"Delete")],64)):m("",!0)]),_:1},512))}});export{X as default};
