import{M as w,t as x,r as _,k as y,o as m,n as h,m as b,W as o,z as c,Y as e,A as i,Z as g,T as t,aa as C,y as K,U as k}from"./userStore-DI58VgZ6.js";import{c as L}from"./app-Dh_3ddLE.js";import{a as P,B as r,b as S}from"./Btn-2hiIT76k.js";import{f as V}from"./common-Qp7bRr50.js";import{_ as B}from"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import"./index-bkhK2U3_.js";import"./index-BBRRzm9T.js";const A={activateLicense:async p=>await w.post("licenses/activate",{key:p})},D="/build/assets/koel-plus-DsQSd8mZ.svg",F=["onSubmit"],E=x({__name:"ActivateLicenseForm",setup(p){const{showSuccessDialog:f}=P(),l=_(""),s=_(!1),a=async()=>{try{s.value=!0,await A.activateLicense(l.value),await f("Thanks for purchasing Koel Plus! Koel will now refresh to activate the changes."),V()}catch(d){S("dialog").handleHttpError(d)}finally{s.value=!1}};return(d,u)=>{const v=y("koel-focus");return m(),h("form",{class:"license-form flex items-stretch",onSubmit:i(a,["prevent"])},[b(o(B,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=n=>l.value=n),disabled:s.value,class:"!rounded-r-none",name:"license",placeholder:"Enter your license key",required:""},null,8,["modelValue","disabled"]),[[v]]),o(r,{disabled:s.value,class:"!rounded-l-none",type:"submit"},{default:c(()=>[e("Activate")]),_:1},8,["disabled"])],40,F)}}}),M={class:"plus text-k-text-secondary max-w-[480px] flex flex-col items-center","data-testid":"koel-plus",tabindex:"0"},N=t("img",{alt:"Koel Plus",class:"-mt-[48px] rounded-full border-[6px] border-white",src:D,width:"96"},null,-1),U={class:"!px-8 !py-5 text-center flex flex-col gap-5"},q=t("div",null,[e(" Koel Plus adds premium features on top of the default installation."),t("br"),e(" Pay "),t("em",null,"once"),e(" and enjoy all additional features forever â€” including those to be built into the app in the future! ")],-1),z={class:"space-x-3","data-testid":"buttons"},T={key:0,class:"flex gap-3","data-testid":"activateForm"},$=t("div",{class:"text-[0.9rem] opacity-70"},[e(" Visit "),t("a",{href:"https://koel.dev#plus",target:"_blank"},"koel.dev"),e(" for more information. ")],-1),H={class:"w-full text-center bg-black/20"},G=x({__name:"KoelPlusModal",emits:["close"],setup(p,{emit:f}){const{checkoutUrl:l}=L(),s=()=>f("close"),a=_(!1),d=()=>{s(),window.LemonSqueezy.Url.Open(l.value)},u=()=>a.value=!0,v=()=>a.value=!1;return g(()=>{var n;return(n=window.createLemonSqueezy)==null?void 0:n.call(window)}),(n,O)=>(m(),h("div",M,[N,t("main",U,[q,b(t("div",z,[o(r,{big:"",danger:"",onClick:i(d,["prevent"])},{default:c(()=>[e("Purchase Koel Plus")]),_:1},8,["onClick"]),o(r,{big:"",success:"",onClick:i(u,["prevent"])},{default:c(()=>[e("I have a license key")]),_:1},8,["onClick"])],512),[[C,!a.value]]),a.value?(m(),h("div",T,[a.value?(m(),K(E,{key:0,class:"flex-1"})):k("",!0),o(r,{class:"cancel",transparent:"",onClick:i(v,["prevent"])},{default:c(()=>[e("Cancel")]),_:1},8,["onClick"])])):k("",!0),$]),t("footer",H,[o(r,{danger:"","data-testid":"close-modal-btn",rounded:"",onClick:i(s,["prevent"])},{default:c(()=>[e("Close")]),_:1},8,["onClick"])])]))}});export{G as default};
