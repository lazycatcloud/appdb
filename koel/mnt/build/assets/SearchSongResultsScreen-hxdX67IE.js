import{t as w,r as d,ac as z,aE as u,h as A,Z as F,o as s,y as n,z as a,W as i,B as e,az as U,U as q,Y as E,T as c,V as p,am as D,p as H}from"./userStore-DI58VgZ6.js";import{u as I}from"./app-Dh_3ddLE.js";import{u as M,c as Q,S as W,d as Y,b as Z}from"./index-Dvdk0smA.js";import"./index-bkhK2U3_.js";import"./Btn-2hiIT76k.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import"./usePlaylistManagement-BYa-nJNx.js";import"./downloadService-C6bGKWwx.js";import"./SoundBars-BQEuboqd.js";import"./index-SJV2sFs2.js";const j={class:"font-thin"},ue=w({__name:"SearchSongResultsScreen",setup(G){const{getRouteParam:S}=I(),o=d(""),{SongList:f,ControlsToggle:g,ThumbnailStack:y,headerLayout:h,songs:t,songList:k,thumbnails:_,duration:v,showingControls:l,isPhone:P,onPressEnter:b,playAll:B,playSelected:C,applyFilter:L,onScrollBreakpoint:R}=M(z(u.state,"playables"),{type:"Search.Songs"}),{SongListControls:V,config:x}=Q("Search.Songs"),N=A(()=>decodeURIComponent(o.value)),r=d(!1);return u.resetPlayableResultState(),F(async()=>{o.value=S("q")||"",o.value&&(r.value=!0,await u.playableSearch(o.value),r.value=!1)}),(J,m)=>(s(),n(Z,null,{header:a(()=>[i(W,{layout:e(t).length===0?"collapsed":e(h)},U({thumbnail:a(()=>[i(e(y),{thumbnails:e(_)},null,8,["thumbnails"])]),controls:a(()=>[e(t).length&&(!e(P)||e(l))?(s(),n(e(V),{key:0,config:e(x),onFilter:e(L),onPlayAll:e(B),onPlaySelected:e(C)},null,8,["config","onFilter","onPlayAll","onPlaySelected"])):q("",!0)]),default:a(()=>[E(" Results for "),c("span",j,p(N.value),1),i(e(g),{modelValue:e(l),"onUpdate:modelValue":m[0]||(m[0]=T=>D(l)?l.value=T:null)},null,8,["modelValue"])]),_:2},[e(t).length?{name:"meta",fn:a(()=>[c("span",null,p(e(H)(e(t),"item")),1),c("span",null,p(e(v)),1)]),key:"0"}:void 0]),1032,["layout"])]),default:a(()=>[r.value?(s(),n(Y,{key:0,class:"-m-6"})):(s(),n(e(f),{key:1,ref_key:"songList",ref:k,class:"-m-6","onPress:enter":e(b),onScrollBreakpoint:e(R)},null,8,["onPress:enter","onScrollBreakpoint"]))]),_:1}))}});export{ue as default};
