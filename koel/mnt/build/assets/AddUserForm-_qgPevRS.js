import{t as g,a3 as k,k as U,o as x,n as C,T as n,W as a,z as s,Y as t,m as E,A as p,au as N,Q as B,O as D}from"./userStore-DI58VgZ6.js";import{u as S,a as O,B as f,b as $}from"./Btn-2hiIT76k.js";import{k as q}from"./app-Dh_3ddLE.js";import{_ as A}from"./TooltipIcon.vue_vue_type_script_setup_true_lang-CwCHTPax.js";import{m as K}from"./index-Dvdk0smA.js";import{_ as m}from"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import{_ as r}from"./FormRow.vue_vue_type_script_setup_true_lang-jRw1p4cD.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./usePlaylistManagement-BYa-nJNx.js";import"./downloadService-C6bGKWwx.js";import"./SoundBars-BQEuboqd.js";import"./index-SJV2sFs2.js";const M=["onSubmit","onKeydown"],T=n("header",null,[n("h1",null,"Add New User")],-1),H={class:"space-y-5"},ae=g({__name:"AddUserForm",emits:["close"],setup(P,{emit:_}){const{showOverlay:w,hideOverlay:y}=q(),{toastSuccess:b}=S(),{showConfirmDialog:V}=O(),d={name:"",email:"",password:"",is_admin:!1},e=k(Object.assign({},d)),h=async()=>{w();try{await B.store(e),b(`New user "${e.name}" created.`),i()}catch(c){$("dialog").handleHttpError(c)}finally{y()}},i=()=>_("close"),u=async()=>{if(D.isEqual(e,d)){i();return}await V("Discard all changes?")&&i()};return(c,o)=>{const v=U("koel-focus");return x(),C("form",{onSubmit:p(h,["prevent"]),onKeydown:N(u,["esc"])},[T,n("main",H,[a(r,null,{label:s(()=>[t("Name")]),default:s(()=>[E(a(m,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.name=l),name:"name",required:"",title:"Name"},null,8,["modelValue"]),[[v]])]),_:1}),a(r,null,{label:s(()=>[t("Email")]),default:s(()=>[a(m,{modelValue:e.email,"onUpdate:modelValue":o[1]||(o[1]=l=>e.email=l),name:"email",required:"",title:"Email",type:"email"},null,8,["modelValue"])]),_:1}),a(r,null,{label:s(()=>[t("Password")]),help:s(()=>[t("Min. 10 characters. Should be a mix of characters, numbers, and symbols.")]),default:s(()=>[a(m,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=l=>e.password=l),autocomplete:"new-password",name:"password",required:"",title:"Password",type:"password"},null,8,["modelValue"])]),_:1}),a(r,null,{default:s(()=>[n("div",null,[a(K,{modelValue:e.is_admin,"onUpdate:modelValue":o[3]||(o[3]=l=>e.is_admin=l),name:"is_admin"},null,8,["modelValue"]),t(" User is an admin "),a(A,{title:"Admins can perform administrative tasks like managing users and uploading songs."})])]),_:1})]),n("footer",null,[a(f,{class:"btn-add",type:"submit"},{default:s(()=>[t("Save")]),_:1}),a(f,{class:"btn-cancel",white:"",onClick:p(u,["prevent"])},{default:s(()=>[t("Cancel")]),_:1},8,["onClick"])])],40,M)}}});export{ae as default};
