function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SoundBars-BQEuboqd.js","assets/userStore-DI58VgZ6.js","assets/userStore-CkW9hTsr.css","assets/HotkeyListener-Bn5pnH0n.js","assets/index-bkhK2U3_.js","assets/Btn-2hiIT76k.js","assets/common-Qp7bRr50.js","assets/index-BBRRzm9T.js","assets/LoginForm-CUGZ7zZd.js","assets/logo-DCyVV1bg.js","assets/PasswordField.vue_vue_type_script_setup_true_lang-Bm6xCQKi.js","assets/TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js","assets/FormRow.vue_vue_type_script_setup_true_lang-jRw1p4cD.js","assets/google-KJUKpri4.js","assets/LoginForm-DaHgx-Vm.css","assets/index-Dvdk0smA.js","assets/usePlaylistManagement-BYa-nJNx.js","assets/downloadService-C6bGKWwx.js","assets/index-SJV2sFs2.js","assets/index-DX8rpkdI.css","assets/AlbumContextMenu-5JOljGdZ.js","assets/useContextMenu-uqGsLwl5.js","assets/ArtistContextMenu-CUV4MTcR.js","assets/PlaylistContextMenu-B_S4zHq1.js","assets/PlaylistFolderContextMenu-DVVDHNG3.js","assets/PlayableContextMenu-D29T9AKt.js","assets/CreatePlaylistContextMenu-yymPk17F.js","assets/SupportKoel-B7HYlkU6.js","assets/SupportKoel-B8o4p67c.css","assets/DropZone-D8A6KkN4.js","assets/DropZone-BaTbPh3E.css","assets/AcceptInvitation-C2VpBZxh.js","assets/invitationService-DTH8jUK0.js","assets/ResetPasswordForm-NaO6cyAt.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as k,w as ye,a as Xe,p as Ze,b as Ge,l as ue,c as At,s as q,d as $t,e as Jt,f as ae,g as en,h as L,i as B,j as we,u as tn,_ as F,k as Ct,m as ve,o as h,n as P,q as Je,t as D,v as Pt,x as ee,y as x,z,A as O,B as m,C as et,D as Rt,E as Ke,F as $,G as _,H as nn,I as G,J as Lt,K as Ue,L as X,M as ge,N as ne,O as We,P as tt,Q as je,R as Ve,S as Dt,T as C,U as S,V as Ee,W as y,X as ie,Y as lt,Z as pe,$ as on,a0 as Ot,a1 as an,a2 as sn,a3 as rn,a4 as M,a5 as N,a6 as ut,a7 as nt,a8 as ot,a9 as It,aa as Le,ab as cn,ac as ln,ad as un,ae as Qe,af as Ce,ag as dn,ah as pn,ai as fn}from"./userStore-DI58VgZ6.js";import{u as mn,f as hn,a as gn,b as yn,c as Mt,d as vn,e as _n,g as Nt,h as Ft,i as qt,j as wn,k as bn,w as xn,l as kn,m as En,n as Tn,o as Sn,p as An,q as $n,r as Cn,s as Pn,t as Rn,v as Ln,x as Dn,y as On,z as In,A as Mn}from"./index-bkhK2U3_.js";import{O as zt,R as Ht,u as at,B as dt,C as Se,a as Nn,b as Fn,D as qn,M as zn}from"./Btn-2hiIT76k.js";import{f as Bt,g as de,d as pt}from"./common-Qp7bRr50.js";import{f as Hn}from"./index-BBRRzm9T.js";const Bn={mounted:e=>e.focus()};function Ne(e){return e.split("-")[0]}function Fe(e){return e.split("-")[1]}function qe(e){return["top","bottom"].includes(Ne(e))?"x":"y"}function st(e){return e==="y"?"height":"width"}function ft(e,t,n){let{reference:o,floating:a}=e;const s=o.x+o.width/2-a.width/2,r=o.y+o.height/2-a.height/2,i=qe(t),c=st(i),d=o[c]/2-a[c]/2,l=i==="x";let u;switch(Ne(t)){case"top":u={x:s,y:o.y-a.height};break;case"bottom":u={x:s,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:r};break;case"left":u={x:o.x-a.width,y:r};break;default:u={x:o.x,y:o.y}}switch(Fe(t)){case"start":u[i]-=d*(n&&l?-1:1);break;case"end":u[i]+=d*(n&&l?-1:1)}return u}const Un=async(e,t,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:s=[],platform:r}=n,i=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:l}=ft(c,o,i),u=o,p={},f=0;for(let g=0;g<s.length;g++){const{name:T,fn:v}=s[g],{x:w,y:b,data:E,reset:R}=await v({x:d,y:l,initialPlacement:o,placement:u,strategy:a,middlewareData:p,rects:c,platform:r,elements:{reference:e,floating:t}});d=w??d,l=b??l,p={...p,[T]:{...p[T],...E}},R&&f<=50&&(f++,typeof R=="object"&&(R.placement&&(u=R.placement),R.rects&&(c=R.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:a}):R.rects),{x:d,y:l}=ft(c,u,i)),g=-1)}return{x:d,y:l,placement:u,strategy:a,middlewareData:p}};function Ut(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function De(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Vn(e,t){var n;t===void 0&&(t={});const{x:o,y:a,platform:s,rects:r,elements:i,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:p=!1,padding:f=0}=t,g=Ut(f),T=i[p?u==="floating"?"reference":"floating":u],v=De(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:d,rootBoundary:l,strategy:c})),w=De(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...r.floating,x:o,y:a}:r.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:c}):r[u]);return{top:v.top-w.top+g.top,bottom:w.bottom-v.bottom+g.bottom,left:v.left-w.left+g.left,right:w.right-v.right+g.right}}const Gn=Math.min,Kn=Math.max;function Wn(e,t,n){return Kn(e,Gn(t,n))}const jn=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:o=0}=e??{},{x:a,y:s,placement:r,rects:i,platform:c}=t;if(n==null)return{};const d=Ut(o),l={x:a,y:s},u=qe(r),p=Fe(r),f=st(u),g=await c.getDimensions(n),T=u==="y"?"top":"left",v=u==="y"?"bottom":"right",w=i.reference[f]+i.reference[u]-l[u]-i.floating[f],b=l[u]-i.reference[u],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let R=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0;R===0&&(R=i.floating[f]);const fe=w/2-b/2,j=d[T],ce=R-g[f]-d[v],A=R/2-g[f]/2+fe,I=Wn(j,A,ce),Q=(p==="start"?d[T]:d[v])>0&&A!==I&&i.reference[f]<=i.floating[f];return{[u]:l[u]-(Q?A<j?j-A:ce-A:0),data:{[u]:I,centerOffset:A-I}}}}),Qn={left:"right",right:"left",bottom:"top",top:"bottom"};function Oe(e){return e.replace(/left|right|bottom|top/g,t=>Qn[t])}function Yn(e,t,n){n===void 0&&(n=!1);const o=Fe(e),a=qe(e),s=st(a);let r=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=Oe(r)),{main:r,cross:Oe(r)}}const Xn={start:"end",end:"start"};function mt(e){return e.replace(/start|end/g,t=>Xn[t])}const Zn=["top","right","bottom","left"];Zn.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Za=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:o,middlewareData:a,rects:s,initialPlacement:r,platform:i,elements:c}=t,{mainAxis:d=!0,crossAxis:l=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",flipAlignment:f=!0,...g}=e,T=Ne(o),v=u||(T===r||!f?[Oe(r)]:function(A){const I=Oe(A);return[mt(A),I,mt(I)]}(r)),w=[r,...v],b=await Vn(t,g),E=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&E.push(b[T]),l){const{main:A,cross:I}=Yn(o,s,await(i.isRTL==null?void 0:i.isRTL(c.floating)));E.push(b[A],b[I])}if(R=[...R,{placement:o,overflows:E}],!E.every(A=>A<=0)){var fe,j;const A=((fe=(j=a.flip)==null?void 0:j.index)!=null?fe:0)+1,I=w[A];if(I)return{data:{index:A,overflows:R},reset:{placement:I}};let Q="bottom";switch(p){case"bestFit":{var ce;const $e=(ce=R.map(me=>[me,me.overflows.filter(le=>le>0).reduce((le,He)=>le+He,0)]).sort((me,le)=>me[1]-le[1])[0])==null?void 0:ce[0].placement;$e&&(Q=$e);break}case"initialPlacement":Q=r}if(o!==Q)return{reset:{placement:Q}}}return{}}}},Jn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:o}=t,a=await async function(s,r){const{placement:i,platform:c,elements:d}=s,l=await(c.isRTL==null?void 0:c.isRTL(d.floating)),u=Ne(i),p=Fe(i),f=qe(i)==="x",g=["left","top"].includes(u)?-1:1,T=l&&f?-1:1,v=typeof r=="function"?r(s):r;let{mainAxis:w,crossAxis:b,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return p&&typeof E=="number"&&(b=p==="end"?-1*E:E),f?{x:b*T,y:w*g}:{x:w*g,y:b*T}}(t,e);return{x:n+a.x,y:o+a.y,data:a}}}};function Vt(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function te(e){if(e==null)return window;if(!Vt(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function se(e){return te(e).getComputedStyle(e)}function re(e){return Vt(e)?"":e?(e.nodeName||"").toLowerCase():""}function Gt(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function U(e){return e instanceof te(e).HTMLElement}function Z(e){return e instanceof te(e).Element}function Te(e){return typeof ShadowRoot>"u"?!1:e instanceof te(e).ShadowRoot||e instanceof ShadowRoot}function Ae(e){const{overflow:t,overflowX:n,overflowY:o,display:a}=se(e);return/auto|scroll|overlay|hidden/.test(t+o+n)&&!["inline","contents"].includes(a)}function eo(e){return["table","td","th"].includes(re(e))}function ht(e){const t=/firefox/i.test(Gt()),n=se(e);return n.transform!=="none"||n.perspective!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const a=n.contain;return a!=null&&a.includes(o)})}function Kt(){return!/^((?!chrome|android).)*safari/i.test(Gt())}function rt(e){return["html","body","#document"].includes(re(e))}const gt=Math.min,ke=Math.max,Ie=Math.round;function J(e,t,n){var o,a,s,r;t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect();let c=1,d=1;t&&U(e)&&(c=e.offsetWidth>0&&Ie(i.width)/e.offsetWidth||1,d=e.offsetHeight>0&&Ie(i.height)/e.offsetHeight||1);const l=Z(e)?te(e):window,u=!Kt()&&n,p=(i.left+(u&&(o=(a=l.visualViewport)==null?void 0:a.offsetLeft)!=null?o:0))/c,f=(i.top+(u&&(s=(r=l.visualViewport)==null?void 0:r.offsetTop)!=null?s:0))/d,g=i.width/c,T=i.height/d;return{width:g,height:T,top:f,right:p+g,bottom:f+T,left:p,x:p,y:f}}function oe(e){return(t=e,(t instanceof te(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ze(e){return Z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Wt(e){return J(oe(e)).left+ze(e).scrollLeft}function to(e,t,n){const o=U(t),a=oe(t),s=J(e,o&&function(c){const d=J(c);return Ie(d.width)!==c.offsetWidth||Ie(d.height)!==c.offsetHeight}(t),n==="fixed");let r={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if(o||!o&&n!=="fixed")if((re(t)!=="body"||Ae(a))&&(r=ze(t)),U(t)){const c=J(t,!0);i.x=c.x+t.clientLeft,i.y=c.y+t.clientTop}else a&&(i.x=Wt(a));return{x:s.left+r.scrollLeft-i.x,y:s.top+r.scrollTop-i.y,width:s.width,height:s.height}}function it(e){return re(e)==="html"?e:e.assignedSlot||e.parentNode||(Te(e)?e.host:null)||oe(e)}function yt(e){return U(e)&&se(e).position!=="fixed"?e.offsetParent:null}function Ye(e){const t=te(e);let n=yt(e);for(;n&&eo(n)&&se(n).position==="static";)n=yt(n);return n&&(re(n)==="html"||re(n)==="body"&&se(n).position==="static"&&!ht(n))?t:n||function(o){let a=it(o);for(Te(a)&&(a=a.host);U(a)&&!rt(a);){if(ht(a))return a;{const s=a.parentNode;a=Te(s)?s.host:s}}return null}(e)||t}function vt(e){if(U(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=J(e);return{width:t.width,height:t.height}}function jt(e){const t=it(e);return rt(t)?e.ownerDocument.body:U(t)&&Ae(t)?t:jt(t)}function Me(e,t){var n;t===void 0&&(t=[]);const o=jt(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),s=te(o),r=a?[s].concat(s.visualViewport||[],Ae(o)?o:[]):o,i=t.concat(r);return a?i:i.concat(Me(r))}function _t(e,t,n){return t==="viewport"?De(function(o,a){const s=te(o),r=oe(o),i=s.visualViewport;let c=r.clientWidth,d=r.clientHeight,l=0,u=0;if(i){c=i.width,d=i.height;const p=Kt();(p||!p&&a==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:c,height:d,x:l,y:u}}(e,n)):Z(t)?function(o,a){const s=J(o,!1,a==="fixed"),r=s.top+o.clientTop,i=s.left+o.clientLeft;return{top:r,left:i,x:i,y:r,right:i+o.clientWidth,bottom:r+o.clientHeight,width:o.clientWidth,height:o.clientHeight}}(t,n):De(function(o){var a;const s=oe(o),r=ze(o),i=(a=o.ownerDocument)==null?void 0:a.body,c=ke(s.scrollWidth,s.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=ke(s.scrollHeight,s.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+Wt(o);const u=-r.scrollTop;return se(i||s).direction==="rtl"&&(l+=ke(s.clientWidth,i?i.clientWidth:0)-c),{width:c,height:d,x:l,y:u}}(oe(e)))}function no(e){const t=Me(e),n=function(a,s){let r=a;for(;r&&!rt(r)&&!s.includes(r)&&(!Z(r)||!["absolute","fixed"].includes(se(r).position));){const i=it(r);r=Te(i)?i.host:i}return r}(e,t);let o=null;if(n&&U(n)){const a=Ye(n);Ae(n)?o=n:U(a)&&(o=a)}return Z(o)?t.filter(a=>o&&Z(a)&&function(s,r){const i=r.getRootNode==null?void 0:r.getRootNode();if(s.contains(r))return!0;if(i&&Te(i)){let c=r;do{if(c&&s===c)return!0;c=c.parentNode||c.host}while(c)}return!1}(a,o)&&re(a)!=="body"):[]}const oo={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:a}=e;const s=[...n==="clippingAncestors"?no(t):[].concat(n),o],r=s[0],i=s.reduce((c,d)=>{const l=_t(t,d,a);return c.top=ke(l.top,c.top),c.right=gt(l.right,c.right),c.bottom=gt(l.bottom,c.bottom),c.left=ke(l.left,c.left),c},_t(t,r,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:o}=e;const a=U(n),s=oe(n);if(n===s)return t;let r={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if((a||!a&&o!=="fixed")&&((re(n)!=="body"||Ae(s))&&(r=ze(n)),U(n))){const c=J(n,!0);i.x=c.x+n.clientLeft,i.y=c.y+n.clientTop}return{...t,x:t.x-r.scrollLeft+i.x,y:t.y-r.scrollTop+i.y}},isElement:Z,getDimensions:vt,getOffsetParent:Ye,getDocumentElement:oe,getElementRects:e=>{let{reference:t,floating:n,strategy:o}=e;return{reference:to(t,Ye(n),o),floating:{...vt(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>se(e).direction==="rtl"};function ao(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:r=!0,animationFrame:i=!1}=o,c=a&&!i,d=c||s?[...Z(e)?Me(e):[],...Me(t)]:[];d.forEach(f=>{c&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let l,u=null;if(r){let f=!0;u=new ResizeObserver(()=>{f||n(),f=!1}),Z(e)&&!i&&u.observe(e),u.observe(t)}let p=i?J(e):null;return i&&function f(){const g=J(e);!p||g.x===p.x&&g.y===p.y&&g.width===p.width&&g.height===p.height||n(),p=g,l=requestAnimationFrame(f)}(),n(),()=>{var f;d.forEach(g=>{c&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),(f=u)==null||f.disconnect(),u=null,i&&cancelAnimationFrame(l)}}const so=(e,t,n)=>Un(e,t,{platform:oo,...n});async function wt(e){return await new Promise((t,n)=>{e.readEntries(t,n)})}async function ro(e){const t=[];let n=await wt(e);for(;n.length>0;)t.push(...n),n=await wt(e);return t}async function io(e){const t=[],n=[];for(let o=0,a=e.length;o<a;o++)n.push(e[o].webkitGetAsEntry());for(;n.length>0;){const o=n.shift();o&&(o.isFile?t.push(o):o.isDirectory&&n.push(...await ro(o.createReader())))}return t}const co=async(e,t,n,o)=>{n.placement=n.placement||"bottom";const{x:a,y:s,middlewareData:r}=await so(e,t,n);if(t.style.left=`${a}px`,t.style.top=`${s}px`,o){const{x:i,y:c}=r.arrow,d={top:"bottom",right:"left",bottom:"top",left:"right"}[n.placement.split("-")[0]];Object.assign(o.style,{left:i!=null?`${i}px`:"",top:c!=null?`${c}px`:"",right:"",bottom:"",[d]:"-4px"})}},lo=e=>{if(e.$tooltip)return e.$tooltip;e.$tooltip=document.createElement("div"),e.$tooltip.classList.add("tooltip");const t=document.createElement("div");t.classList.add("tooltip-arrow");const n=document.createElement("div");return n.classList.add("tooltip-content"),e.$tooltip.appendChild(n),e.$tooltip.appendChild(t),document.body.appendChild(e.$tooltip),e.$tooltip},bt=(e,t)=>{const n=lo(e);n.querySelector(".tooltip-content").innerText=t.value||e.title||e.getAttribute("data-title")||e.innerText,e.title&&!e.getAttribute("data-title")&&(e.setAttribute("data-title",e.title),e.removeAttribute("title"));const o=n.querySelector(".tooltip-arrow");let a="bottom";["left","right","top","bottom"].forEach(c=>{t.modifiers[c]&&(a=c)});const s=async()=>await co(e,n,{placement:a,middleware:[jn({element:o}),Jn(8)]},o);e.$cleanup=e.$cleanup||ao(e,n,s);const r=async()=>{n.classList.add("show"),await s()},i=()=>n.classList.remove("show");e.addEventListener("mouseenter",r),e.addEventListener("focus",r),e.addEventListener("mouseleave",i),e.addEventListener("blur",i)},uo={mounted:bt,updated:bt,beforeUnmount:e=>{e.$cleanup&&e.$cleanup(),e.$tooltip&&document.body.removeChild(e.$tooltip)}},xt=e=>Array.from(e.getElementsByTagName("a")).forEach(t=>t.setAttribute("target","_blank")),po={mounted:e=>xt(e),updated:e=>xt(e)},fo={mounted:async e=>{e.addEventListener("error",()=>e.style.visibility="hidden"),e.src=e.src||""}},kt=e=>{e.classList.toggle("fade-top",e.scrollTop!==0),e.classList.toggle("fade-bottom",e.scrollTop+e.clientHeight!==e.scrollHeight)},mo={mounted:async e=>{mn(e,([{isIntersecting:t}])=>t&&kt(e)),e.addEventListener("scroll",()=>requestAnimationFrame(()=>kt(e)))}},ho=["audio/flac","audio/mp3","audio/mpeg","audio/ogg","audio/x-flac","audio/x-aac"],Et=[{name:"Default",preamp:0,gains:[0,0,0,0,0,0,0,0,0,0]},{name:"Classical",preamp:-1,gains:[-1,-1,-1,-1,-1,-1,-7,-7,-7,-9]},{name:"Club",preamp:-6.7,gains:[-1,-1,8,5,5,5,3,-1,-1,-1]},{name:"Dance",preamp:-4.3,gains:[9,7,2,-1,-1,-5,-7,-7,-1,-1]},{name:"Full Bass",preamp:-7.2,gains:[-8,9,9,5,1,-4,-8,-10,-11,-11]},{name:"Full Treble",preamp:-12,gains:[-9,-9,-9,-4,2,11,16,16,16,16]},{name:"Headphone",preamp:-8,gains:[4,11,5,-3,-2,1,4,9,12,14]},{name:"Large Hall",preamp:-7.2,gains:[10,10,5,5,-1,-4,-4,-4,-1,-1]},{name:"Live",preamp:-5.3,gains:[-4,-1,4,5,5,5,4,2,2,2]},{name:"Pop",preamp:-6.2,gains:[-1,4,7,8,5,-1,-2,-2,-1,-1]},{name:"Reggae",preamp:-8.2,gains:[-1,-1,-1,-5,-1,6,6,-1,-1,-1]},{name:"Rock",preamp:-10,gains:[8,4,-5,-8,-3,4,8,11,11,11]},{name:"Soft Rock",preamp:-5.3,gains:[4,4,2,-1,-4,-5,-3,-1,2,8]},{name:"Techno",preamp:-7.7,gains:[8,5,-1,-5,-4,-1,8,9,9,8]}],Tt=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3];class _e{constructor(t){this.routeChangedHandlers=[],this.cache=new Map,this.triggerNotFound=async()=>await this.activateRoute(this.notFoundRoute),this.onRouteChanged=n=>this.routeChangedHandlers.push(n),this.routes=t,this.homeRoute=t.find(({screen:n})=>n==="Home"),this.notFoundRoute=t.find(({screen:n})=>n==="404"),this.$currentRoute=k(this.homeRoute),ye(this.$currentRoute,(n,o)=>this.routeChangedHandlers.forEach(async a=>await a(n,o)),{deep:!0,immediate:!0}),addEventListener("popstate",()=>this.resolve(),!0)}static go(t,n=!1){if(typeof t=="number"){history.go(t);return}t.startsWith("/")||(t=`/${t}`),t.startsWith("/#")||(t=`/#${t}`),t=t.substring(1,t.length),location.assign(`${location.origin}${location.pathname}${t}`),n&&Bt()}async resolve(){var a;if(!location.hash||location.hash==="#/"||location.hash==="#!/")return _e.go(this.homeRoute.path);const t=this.tryMatchRoute(),[n,o]=t?[t.route,t.params]:[null,null];if(!n)return this.triggerNotFound();if(await((a=n.onResolve)==null?void 0:a.call(n,o))===!1)return this.triggerNotFound();if(n.redirect){const s=n.redirect(o);return typeof s=="string"?_e.go(s):this.activateRoute(s,o)}return this.activateRoute(n,o)}async activateRoute(t,n={}){this.$currentRoute.value=t,this.$currentRoute.value.params=n}tryMatchRoute(){if(!this.cache.has(location.hash))for(let t=0;t<this.routes.length;t++){const n=this.routes[t],o=location.hash.match(new RegExp(`^#!?${n.path}/?(?:\\?(.*))?$`));if(o){const a=new URLSearchParams(new URL(location.href.replace("#/","")).search);this.cache.set(location.hash,{route:n,params:Object.assign(Object.fromEntries(a.entries()),o.groups||{})});break}}return this.cache.get(location.hash)}}const go=["playables","album","artist","playlist","playlist-folder"],yo=(e,t)=>{if(!e.dataTransfer)return;let n=document.querySelector("#dragGhost");n||(n=document.createElement("div"),n.id="dragGhost",document.body.appendChild(n)),n.innerText=t,e.dataTransfer.setDragImage(n,0,0)},Pe=e=>go.find(t=>{var n;return(n=e.dataTransfer)==null?void 0:n.types.includes(`application/x-koel.${t}`)}),vo=e=>({startDragging:(n,o)=>{if(!n.dataTransfer)return;n.dataTransfer.effectAllowed="copyMove";let a,s;switch(e){case"playables":o=Xe(o),a=o.length===1?`${o[0].title} by ${de(o[0],"artist_name","podcast_author")}`:Ze(o,"item"),s=o.map(r=>r.id);break;case"album":o=o,a=`All songs in ${o.name}`,s=o.id;break;case"artist":o=o,a=`All songs by ${o.name}`,s=o.id;break;case"playlist":o=o,a=o.name,s=o.id;break;case"playlist-folder":o=o,a=o.name,s=o.id;break;default:return}n.dataTransfer.setData(`application/x-koel.${e}`,JSON.stringify(s)),yo(n,a)}}),_o=e=>{const t=s=>{const r=Pe(s);return!!(r&&e.includes(r))},n=s=>{var i;const r=Pe(s);if(!r)return null;try{return JSON.parse((i=s.dataTransfer)==null?void 0:i.getData(`application/x-koel.${r}`))}catch{return null}};return{acceptsDrop:t,getDroppedData:n,resolveDroppedValue:async s=>{try{switch(Pe(s)){case"playlist":const r=String(JSON.parse(s.dataTransfer.getData("application/x-koel.playlist")));return Ge.byId(r);default:return}}catch(r){ue.error(r,s)}},resolveDroppedItems:async s=>{try{const r=Pe(s);if(!r)return[];const i=n(s);switch(r){case"playables":return q.byIds(i);case"album":const c=await Jt.resolve(i);return c?await q.fetchForAlbum(c):[];case"artist":const d=await $t.resolve(i);return d?await q.fetchForArtist(d):[];case"playlist":const l=Ge.byId(i);return l?await q.fetchForPlaylist(l):[];case"playlist-folder":const u=At.byId(i);return u?await q.fetchForPlaylistFolder(u):[];default:throw`Unknown drag type: ${r}`}}catch(r){return ue.error(r,s),[]}}}};let he=null;const wo=()=>(ae.listeners("EPISODE_PROGRESS_UPDATED").length===0&&ae.on("EPISODE_PROGRESS_UPDATED",async({id:t},n)=>{if(!he||he.id!==t)return;const o=await en.resolve(he.podcast_id);o.state.current_episode=he.id,o.state.progresses[he.id]=n}),{trackEpisode:t=>he=t}),bo=()=>({isPlus:L(()=>B.state.koel_plus.active),license:{shortKey:B.state.koel_plus.short_key,customerName:B.state.koel_plus.customer_name,customerEmail:B.state.koel_plus.customer_email},checkoutUrl:L(()=>`https://store.koel.dev/checkout/buy/${B.state.koel_plus.product_id}?embed=1&media=0&desc=0`)}),xo=e=>(e=e||we(zt),{showOverlay:e.value.show.bind(e.value),hideOverlay:e.value.hide.bind(e.value)}),ko=()=>{const{currentUser:e,isAdmin:t}=tn(),{isPlus:n}=bo(),o={editSong:a=>t.value?!0:n.value?Xe(a).every(s=>s.owner_id===e.value.id):!1,editPlaylist:a=>a.user_id===e.value.id,uploadSongs:()=>t.value||n.value,changeAlbumOrArtistThumbnails:()=>t.value||n.value};return o.editSongs=o.editSong,{currentUserCan:o}};let H;const be=()=>{H=H||we(Ht);const e=a=>{var s,r;return(r=(s=H.$currentRoute.value)==null?void 0:s.params)==null?void 0:r[a]},t=()=>{var a;return(a=H.$currentRoute.value)==null?void 0:a.screen},n=(...a)=>{var s;return a.includes((s=H.$currentRoute.value)==null?void 0:s.screen)};return{getRouteParam:e,getCurrentScreen:t,isCurrentScreen:n,onScreenActivated:(a,s)=>{n(a)&&s(),H.onRouteChanged(r=>r.screen===a&&s())},go:_e.go,onRouteChanged:H.onRouteChanged.bind(H),resolveRoute:H.resolve.bind(H),triggerNotFound:H.triggerNotFound.bind(H)}},Eo={},To={class:"transition-[color] duration-200 ease-in-out text-k-text-secondary hover:text-k-text-primary",type:"button"};function So(e,t){const n=Ct("koel-tooltip");return ve((h(),P("button",To,[Je(e.$slots,"default")])),[[n,void 0,void 0,{top:!0}]])}const K=F(Eo,[["render",So]]),Ao=D({__name:"SongLikeButton",props:{playable:{}},setup(e){const t=e,{playable:n}=Pt(t),o=L(()=>n.value.liked?"Unlike":"Like"),a=()=>et.toggleOne(n.value);return(s,r)=>{const i=ee("Icon");return h(),x(K,{title:o.value,onClick:O(a,["stop"])},{default:z(()=>[m(n).liked?(h(),x(i,{key:0,icon:m(hn)},null,8,["icon"])):(h(),x(i,{key:1,icon:m(Hn)},null,8,["icon"]))]),_:1},8,["title","onClick"])}}}),$o=()=>{const{toastSuccess:e,toastWarning:t}=at(),{go:n,isCurrentScreen:o}=be(),{currentUserCan:a}=ko(),s=L(()=>B.state.storage_driver!=="local"||B.state.media_path_set),r=L(()=>a.uploadSongs()&&!Ke.phone),i=async l=>new Promise(u=>l.file(u)),c=l=>{const u=l.filter(({type:p})=>ho.includes(p)).map(p=>({file:p,id:`${p.name}-${p.size}`,status:"Ready",name:p.name,progress:0}));return Rt.queue(u),u};return{mediaPathSetUp:s,allowsUpload:r,handleDropEvent:async l=>{if(!l.dataTransfer)return;const u=await io(l.dataTransfer.items),p=await Promise.all(u.map(g=>i(g))),f=c(p);f.length?(e(`Queued ${Ze(f,"file")} for upload`),o("Upload")||n("upload")):t("No files applicable for upload")},queueFilesForUpload:c}},Co=30;class Po{constructor(){this.repeatModes=["NO_REPEAT","REPEAT_ALL","REPEAT_ONE"],this.initialized=!1}get isTranscoding(){return Ke.any&&$.transcode_on_mobile}get next(){if(_.next)return _.next;if($.repeat_mode==="REPEAT_ALL")return _.first}get previous(){if(_.previous)return _.previous;if($.repeat_mode==="REPEAT_ALL")return _.last}init(t){this.initialized||(this.player=nn.setup(t,{controls:[]})[0],this.listenToMediaEvents(this.player.media),this.setMediaSessionActionHandlers(),ye(G.volume,n=>this.player.setVolume(n),{immediate:!0}),this.initialized=!0)}registerPlay(t){Lt.add(t),q.registerPlay(t),t.play_count_registered=!0}preload(t){const n=document.createElement("audio");n.setAttribute("src",q.getSourceUrl(t)),n.setAttribute("preload","auto"),n.load(),t.preloaded=!0}async play(t,n=0){if(Ue(t)&&wo().trackEpisode(t),_.queueIfNotQueued(t),X(t)&&t.deleted){this.next&&this.next.id!==t.id&&await this.playNext();return}_.current&&(_.current.playback_state="Stopped"),t.playback_state="Playing",await this.setNowPlayingMeta(t),this.player.media.src=q.getSourceUrl(t),n===0?await this.restart():(this.player.seek(n),await this.resume()),this.setMediaSessionActionHandlers()}showNotification(t){if(!X(t)&&!Ue(t))throw"Invalid playable type.";if($.show_now_playing_notification)try{const n=new window.Notification(`♫ ${t.title}`,{icon:de(t,"album_cover","episode_image"),body:X(t)?`${t.album_name} – ${t.artist_name}`:t.title});n.onclick=()=>window.focus(),window.setTimeout(()=>n.close(),5e3)}catch(n){ue.error(n)}navigator.mediaSession&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:de(t,"artist_name","podcast_author"),album:de(t,"album_name","podcast_title"),artwork:[48,64,96,128,192,256,384,512].map(n=>({src:de(t,"album_cover","episode_image"),sizes:`${n}x${n}`,type:"image/png"}))}))}async restart(){const t=_.current;this.recordStartTime(t),this.broadcastSong(t);try{ge.silently.put("queue/playback-status",{song:t.id,position:0})}catch(n){ue.error(n)}this.player.restart();try{await this.player.media.play(),navigator.mediaSession&&(navigator.mediaSession.playbackState="playing"),this.showNotification(t)}catch{}}rotateRepeatMode(){let t=this.repeatModes.indexOf($.repeat_mode)+1;t>=this.repeatModes.length&&(t=0),$.repeat_mode=this.repeatModes[t]}async playPrev(){if(this.player.media.currentTime>5&&_.current.length>5){this.player.restart();return}!this.previous&&$.repeat_mode==="NO_REPEAT"?await this.stop():this.previous&&await this.play(this.previous)}async playNext(){!this.next&&$.repeat_mode==="NO_REPEAT"?await this.stop():this.next&&await this.play(this.next)}async stop(){document.title="Koel",this.player.pause(),this.player.seek(0),_.current&&(_.current.playback_state="Stopped"),navigator.mediaSession&&(navigator.mediaSession.playbackState="none"),ne.broadcast("SOCKET_PLAYBACK_STOPPED")}pause(){this.player.pause(),_.current.playback_state="Paused",navigator.mediaSession&&(navigator.mediaSession.playbackState="paused"),ne.broadcast("SOCKET_SONG",_.current)}async resume(){const t=_.current;this.player.media.src||(this.player.media.src=q.getSourceUrl(t),this.player.seek(B.state.queue_state.playback_position),await this.setNowPlayingMeta(_.current),this.recordStartTime(t));try{await this.player.media.play()}catch(n){ue.error(n)}_.current.playback_state="Playing",navigator.mediaSession&&(navigator.mediaSession.playbackState="playing"),this.broadcastSong(t)}async toggle(){if(!_.current){await this.playFirstInQueue();return}if(_.current.playback_state!=="Playing"){await this.resume();return}this.pause()}seekBy(t){this.player.media.duration&&(this.player.media.currentTime+=t)}async queueAndPlay(t,n=!1){t=Xe(t),n&&(t=We.shuffle(t)),await this.stop(),_.replaceQueueWith(t),await this.play(_.first)}async playFirstInQueue(){_.all.length&&await this.play(_.first)}async setNowPlayingMeta(t){document.title=`${t.title} ♫ Koel`,this.player.media.setAttribute("title",X(t)?`${t.artist_name} - ${t.title}`:t.title),tt&&await Qt.context.resume()}recordStartTime(t){X(t)&&(t.play_start_time=Math.floor(Date.now()/1e3),t.play_count_registered=!1)}broadcastSong(t){ne.broadcast("SOCKET_SONG",t)}setMediaSessionActionHandlers(){navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",()=>this.resume()),navigator.mediaSession.setActionHandler("pause",()=>this.pause()),navigator.mediaSession.setActionHandler("stop",()=>this.stop()),navigator.mediaSession.setActionHandler("previoustrack",()=>this.playPrev()),navigator.mediaSession.setActionHandler("nexttrack",()=>this.playNext()),Ke.apple||(navigator.mediaSession.setActionHandler("seekbackward",t=>{this.player.media.currentTime-=t.seekOffset||10}),navigator.mediaSession.setActionHandler("seekforward",t=>{this.player.media.currentTime+=t.seekOffset||10})),navigator.mediaSession.setActionHandler("seekto",t=>{if(t.fastSeek&&"fastSeek"in this.player.media){this.player.media.fastSeek(t.seekTime||0);return}this.player.media.currentTime=t.seekTime||0}))}listenToMediaEvents(t){t.addEventListener("error",()=>this.playNext(),!0),t.addEventListener("ended",()=>{X(_.current)&&B.state.uses_last_fm&&je.current.preferences.lastfm_session_key&&q.scrobble(_.current),$.repeat_mode==="REPEAT_ONE"?this.restart():this.playNext()});let n=()=>{const o=_.current;if(!o)return;if(!o.play_count_registered&&!this.isTranscoding&&(!t.duration||t.currentTime*4>=t.duration)&&this.registerPlay(o),Math.ceil(t.currentTime)%5===0){try{ge.silently.put("queue/playback-status",{song:o.id,position:Math.ceil(t.currentTime)})}catch(s){ue.error(s)}Ue(o)&&ae.emit("EPISODE_PROGRESS_UPDATED",o,Math.ceil(t.currentTime))}const a=_.next;!a||a.preloaded||this.isTranscoding||t.duration&&t.currentTime+Co>t.duration&&this.preload(a)};n=We.throttle(n,1e3),t.addEventListener("timeupdate",n)}}const W=new Po,Qt={unlocked:!1,context:null,source:null,element:null,preampGainNode:null,analyzer:null,bands:[],init(e){this.element=e,this.context=new AudioContext,this.preampGainNode=this.context.createGain(),this.source=this.context.createMediaElementSource(this.element),this.analyzer=this.context.createAnalyser(),this.source.connect(this.preampGainNode);const t=Do.getConfig();this.changePreampGain(t.preamp);let n;Tt.forEach((o,a)=>{const s=this.context.createBiquadFilter();a===0?s.type="lowshelf":a===Tt.length-1?s.type="highshelf":s.type="peaking",s.Q.setTargetAtTime(1,this.context.currentTime,.01),s.frequency.setTargetAtTime(o,this.context.currentTime,.01),s.gain.value=Ve(t.gains[a]),n?n.connect(s):this.preampGainNode.connect(s),n=s,this.bands.push({node:s,label:String(o).replace("000","K"),db:t.gains[a]})}),n.connect(this.analyzer),this.analyzer.connect(this.context.destination),this.unlockAudioContext()},changePreampGain(e){this.preampGainNode.gain.value=Ve(e)},changeFilterGain(e,t){e.gain.value=Ve(t)},unlockAudioContext(){["touchend","touchstart","click"].forEach(e=>{document.addEventListener(e,()=>{if(this.unlocked)return;const t=this.context.createBufferSource();t.buffer=this.context.createBuffer(1,1,22050),t.connect(this.context.destination),t.start(0),this.unlocked=!0},{once:!0})})}},Ro={listen:()=>{ne.listen("SOCKET_TOGGLE_PLAYBACK",()=>W.toggle()).listen("SOCKET_PLAY_NEXT",()=>W.playNext()).listen("SOCKET_PLAY_PREV",()=>W.playPrev()).listen("SOCKET_GET_STATUS",()=>{ne.broadcast("SOCKET_STATUS",{playable:_.current,volume:G.get()})}).listen("SOCKET_GET_CURRENT_PLAYABLE",()=>ne.broadcast("SOCKET_PLAYABLE",_.current)).listen("SOCKET_SET_VOLUME",e=>G.set(e)).listen("SOCKET_TOGGLE_FAVORITE",()=>_.current&&et.toggleOne(_.current))}},Lo={async createInviteLink(e){if(e.is_smart)throw Error("Smart playlists are not collaborative.");const t=(await ge.post(`playlists/${e.id}/collaborators/invite`)).token;return`${window.location.origin}/#/playlist/collaborate/${t}`},async acceptInvite(e){return ge.post("playlists/collaborators/accept",{token:e})},async fetchCollaborators(e){return ge.get(`playlists/${e.id}/collaborators`)},async removeCollaborator(e,t){await ge.delete(`playlists/${e.id}/collaborators`,{collaborator:t.id}),Dt.remove(["playlist.songs",e.id])}},Do={getPresetByName(e){return Et.find(t=>t.name===e)},getConfig(){let e;return this.isCustom($.equalizer)?$.equalizer:($.equalizer.name!==null&&(e=this.getPresetByName($.equalizer.name)),e||Et[0])},isCustom(e){return typeof e=="object"&&e!==null&&e.name===null&&typeof e.preamp=="number"&&Array.isArray(e.gains)&&e.gains.length===10&&e.gains.every(t=>typeof t=="number")},saveConfig(e,t,n){const o=e?this.getPresetByName(e):null;$.equalizer=o||{preamp:t,gains:n,name:null}}},xe="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",Oo=[{path:"/home",screen:"Home"},{path:"/404",screen:"404"},{path:"/queue",screen:"Queue"},{path:"/songs",screen:"Songs"},{path:"/albums",screen:"Albums"},{path:"/artists",screen:"Artists"},{path:"/favorites",screen:"Favorites"},{path:"/recently-played",screen:"RecentlyPlayed"},{path:"/search",screen:"Search.Excerpt"},{path:"/search/songs",screen:"Search.Songs"},{path:"/upload",screen:"Upload",onResolve:()=>$o().allowsUpload.value},{path:"/settings",screen:"Settings",onResolve:()=>{var e;return(e=je.current)==null?void 0:e.is_admin}},{path:"/users",screen:"Users",onResolve:()=>{var e;return(e=je.current)==null?void 0:e.is_admin}},{path:"/youtube",screen:"YouTube"},{path:"/profile",screen:"Profile"},{path:"visualizer",screen:"Visualizer"},{path:"/album/(?<id>\\d+)",screen:"Album"},{path:"/artist/(?<id>\\d+)",screen:"Artist"},{path:`/playlist/(?<id>${xe})`,screen:"Playlist"},{path:`/playlist/collaborate/(?<id>${xe})`,screen:"Blank",onResolve:async e=>{try{const t=await Lo.acceptInvite(e.id);return _e.go(`/playlist/${t.id}`,!0),!0}catch(t){return ue.error(t),!1}}},{path:"/genres",screen:"Genres"},{path:"/genres/(?<name>.+)",screen:"Genre"},{path:"/podcasts",screen:"Podcasts"},{path:`/podcasts/(?<id>${xe})`,screen:"Podcast"},{path:"/episodes/(?<id>.+)",screen:"Episode"},{path:"/visualizer",screen:"Visualizer"},{path:`/song/(?<id>${xe})`,screen:"Queue",redirect:()=>"queue",onResolve:e=>(Dt.set("song-to-queue",e.id),!0)},{path:`/invitation/accept/(?<token>${xe})`,screen:"Invitation.Accept"},{path:"/reset-password/(?<payload>[a-zA-Z0-9\\+/=]+)",screen:"Password.Reset"}],Io={class:"flex gap-5 py-6 px-7"},Mo={class:"text-lg w-[2.3rem] aspect-square flex justify-center items-center rounded-full"},No={key:0,class:"text-2xl mb-4"},Fo={class:"mt-2"},qo={class:"flex justify-end gap-2 px-6 py-4"},zo=D({__name:"DialogBox",setup(e,{expose:t}){const n=k(),o=k("info"),a=k(""),s=k(""),r=L(()=>o.value==="confirm"),i=()=>{var v;return(v=n.value)==null?void 0:v.close()},c=()=>{var v;return(v=n.value)==null?void 0:v.dispatchEvent(new Event("cancel"))},d=()=>new Promise(v=>{var w,b;(w=n.value)==null||w.addEventListener("cancel",()=>{i(),v(!1)},{once:!0}),(b=n.value)==null||b.querySelector("[name=ok]").addEventListener("click",()=>{i(),v(!0)},{once:!0})}),l=async(v,w,b="")=>(o.value=v,s.value=w,a.value=b,n.value.showModal(),d());return t({success:async(v,w="")=>l("success",v,w),info:async(v,w="")=>l("info",v,w),warning:async(v,w="")=>l("warning",v,w),error:async(v,w="")=>l("danger",v,w),confirm:async(v,w="")=>l("confirm",v,w)}),(v,w)=>{const b=ee("Icon");return h(),P("dialog",{ref_key:"dialog",ref:n,class:ie([`${o.value}`,"rounded-md shadow-xl border-0 p-0 min-w-[320px] max-w-[calc(100vw - 40px)] backdrop:bg-black/50"])},[C("div",Io,[C("aside",null,[C("i",Mo,[o.value==="info"?(h(),x(b,{key:0,icon:m(gn)},null,8,["icon"])):S("",!0),o.value==="success"?(h(),x(b,{key:1,icon:m(yn)},null,8,["icon"])):S("",!0),o.value==="warning"?(h(),x(b,{key:2,icon:m(Mt)},null,8,["icon"])):S("",!0),o.value==="danger"?(h(),x(b,{key:3,icon:m(vn)},null,8,["icon"])):S("",!0),o.value==="confirm"?(h(),x(b,{key:4,icon:m(_n)},null,8,["icon"])):S("",!0)])]),C("main",null,[a.value?(h(),P("h3",No,Ee(a.value),1)):S("",!0),C("div",Fo,Ee(s.value),1)])]),C("footer",qo,[r.value?(h(),x(dt,{key:0,gray:"",name:"cancel",onClick:O(c,["prevent"])},{default:z(()=>[lt("Cancel")]),_:1},8,["onClick"])):S("",!0),y(dt,{name:"ok"},{default:z(()=>[lt("OK")]),_:1})])],2)}}}),Ho=F(zo,[["__scopeId","data-v-029973bf"]]),Bo={class:"flex items-center px-3 py-0 bg-black/10"},Uo={class:"flex-1 py-2 pl-3 pr-4"},Vo=D({__name:"MessageToast",props:{message:{}},emits:["dismiss"],setup(e,{emit:t}){const n=e,{message:o}=Pt(n),a=L(()=>{switch(o.value.type){case"info":return qt;case"success":return Ft;case"warning":return Mt;default:return Nt}});let s;const r=()=>{t("dismiss",o.value),window.clearTimeout(s)},i=()=>window.clearTimeout(s),c=()=>s=window.setTimeout(()=>r(),o.value.timeout*1e3);return pe(()=>c()),(d,l)=>{const u=ee("Icon");return h(),P("article",{class:ie([m(o).type,"group rounded-l-md cursor-pointer flex items-stretch opacity-90 transition-transform duration-300 origin-right hover:opacity-100 hover:scale-110"]),title:"Click to dismiss",onClick:r,onMouseenter:i,onMouseleave:c},[C("aside",Bo,[y(u,{icon:a.value,class:"group-hover:hidden"},null,8,["icon"]),y(u,{icon:m(wn),class:"hidden group-hover:block"},null,8,["icon"])]),C("main",Uo,Ee(m(o).content),1)],34)}}}),Go=F(Vo,[["__scopeId","data-v-0694b001"]]),Ko=D({__name:"MessageToaster",setup(e,{expose:t}){const n=k(),o=k([]),a=(l,u,p=5)=>{o.value.push({type:l,content:u,timeout:p,id:sn()})},s=l=>o.value=o.value.filter(({id:u})=>u!==l.id),r=(l,u)=>a("info",l,u),i=(l,u)=>a("success",l,u),c=(l,u)=>a("warning",l,u),d=(l,u)=>a("danger",l,u);return pe(()=>{var l,u;n.value&&(n.value.popover="manual",(u=(l=n.value).showPopover)==null||u.call(l))}),t({info:r,success:i,warning:c,error:d}),(l,u)=>(h(),P("div",{ref_key:"root",ref:n,class:"popover"},[y(on,{class:"flex flex-col items-end gap-2",name:"toast",tag:"ul"},{default:z(()=>[(h(!0),P(Ot,null,an(o.value,p=>(h(),P("li",{key:p.id},[y(Go,{message:p,onDismiss:f=>s(p)},null,8,["message","onDismiss"])]))),128))]),_:1})],512))}}),Wo=F(Ko,[["__scopeId","data-v-bbe321a2"]]),jo=["onCancel"],Qo={class:"flex items-baseline justify-center gap-3"},Yo=["innerHTML"],Xo=D({__name:"Overlay",setup(e,{expose:t}){const n=M(()=>N(()=>import("./SoundBars-BQEuboqd.js"),__vite__mapDeps([0,1,2]))),o=k(),a=rn({dismissible:!1,type:"loading",message:""}),s=(c={})=>{var d,l;Object.assign(a,c),(d=o.value)!=null&&d.open||((l=o.value)==null||l.showModal())},r=()=>{var c;return(c=o.value)==null?void 0:c.close()},i=()=>a.dismissible&&r();return t({show:s,hide:r}),(c,d)=>{const l=ee("Icon");return h(),P("dialog",{ref_key:"el",ref:o,class:ie([a.type,"border-0 p-0 bg-transparent backdrop:bg-black/80 outline-0"]),"data-testid":"overlay",onCancel:O(i,["prevent"])},[C("span",Qo,[a.type==="loading"?(h(),x(m(n),{key:0})):S("",!0),a.type==="error"?(h(),x(l,{key:1,icon:m(Nt)},null,8,["icon"])):S("",!0),a.type==="warning"?(h(),x(l,{key:2,icon:m(bn)},null,8,["icon"])):S("",!0),a.type==="info"?(h(),x(l,{key:3,icon:m(qt)},null,8,["icon"])):S("",!0),a.type==="success"?(h(),x(l,{key:4,icon:m(Ft)},null,8,["icon"])):S("",!0),C("span",{class:"message",innerHTML:a.message},null,8,Yo)])],42,jo)}}}),Zo=F(Xo,[["__scopeId","data-v-b7c42e73"]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>({size:n,strokeWidth:o=2,absoluteStrokeWidth:a,color:s,class:r,...i},{attrs:c,slots:d})=>ut("svg",{...Re,width:n||Re.width,height:n||Re.height,stroke:s||Re.stroke,"stroke-width":a?Number(o)*24/Number(n):o,...c,class:["lucide",`lucide-${Jo(e)}`],...i},[...t.map(l=>ut(...l)),...d.default?[d.default()]:[]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ct("Repeat1Icon",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ct("RepeatIcon",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ct("WifiOffIcon",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),oa=e=>(nt("data-v-12c3a20e"),e=e(),ot(),e),aa=oa(()=>C("span",{class:"text-gray-800"},"You’re offline.",-1)),sa=D({__name:"OfflineNotification",setup(e){const t=k(!1);return(n,o)=>t.value?S("",!0):(h(),P("article",{key:0,class:"text-orange-600 p-4 bg-white rounded-md flex items-center justify-center gap-3 fixed z-[10000] left-6 shadow-lg cursor-pointer",title:"Click to dismiss",onClick:o[0]||(o[0]=a=>t.value=!0)},[y(m(na),{size:20}),aa]))}}),ra=F(sa,[["__scopeId","data-v-12c3a20e"]]),ia={},ca={class:"plyr w-full h-[4px]"},la=C("audio",{class:"hidden",controls:"",crossorigin:"anonymous"},null,-1),ua=[la];function da(e,t){return h(),P("div",ca,ua)}const pa=F(ia,[["render",da]]),fa=e=>(nt("data-v-a421cca3"),e=e(),ot(),e),ma=["draggable"],ha=fa(()=>C("span",{class:"album-thumb block h-[55%] md:h-3/4 aspect-square rounded-full bg-cover"},null,-1)),ga={key:0,class:"meta overflow-hidden hidden md:block"},ya={class:"title text-ellipsis overflow-hidden whitespace-nowrap"},va=["href"],_a=D({__name:"FooterSongInfo",setup(e){It(d=>({"5c12fdd0":r.value}));const{startDragging:t}=vo("playables"),n=we(Se,k()),o=L(()=>n.value?de(n.value,"album_cover","episode_image"):pt),a=L(()=>{var d;return n.value?X(n.value)?`#/artist/${(d=n.value)==null?void 0:d.artist_id}`:`#/podcasts/${n.value.podcast_id}`:""}),s=L(()=>n.value?de(n.value,"artist_name","podcast_title"):""),r=L(()=>`url(${o.value??pt})`),i=L(()=>!!n.value),c=d=>{n.value&&t(d,[n.value])};return(d,l)=>{var u;return h(),P("div",{class:ie([{playing:((u=m(n))==null?void 0:u.playback_state)==="Playing"},"song-info px-6 py-0 flex items-center content-start w-[84px] md:w-[420px] gap-5"]),draggable:i.value,onDragstart:c},[ha,m(n)?(h(),P("div",ga,[C("h3",ya,Ee(m(n).title),1),C("a",{href:a.value,class:"artist text-ellipsis overflow-hidden whitespace-nowrap block text-[0.9rem] !text-k-text-secondary hover:!text-k-accent"},Ee(s.value),9,va)])):S("",!0)],42,ma)}}}),wa=F(_a,[["__scopeId","data-v-a421cca3"]]),ba=D({__name:"VolumeSlider",setup(e){const t=k(),n=L(()=>G.volume.value===0?"muted":G.volume.value<3?"discreet":"loud"),o=()=>G.mute(),a=()=>G.unmute(),s=r=>G.set(parseFloat(r.target.value));return xn(G.volume,r=>{$.volume=r,ne.broadcast("SOCKET_VOLUME_CHANGED",r)},{throttle:1e3}),pe(()=>G.init(t.value,$.volume)),(r,i)=>{const c=ee("Icon");return h(),P("span",{id:"volume",class:ie([n.value,"hidden md:flex relative items-center gap-2"])},[ve(y(K,{tabindex:"0",title:"Unmute",onClick:a},{default:z(()=>[y(c,{icon:m(kn),"fixed-width":""},null,8,["icon"])]),_:1},512),[[Le,n.value==="muted"]]),ve(y(K,{tabindex:"0",title:"Mute",onClick:o},{default:z(()=>[y(c,{icon:n.value==="discreet"?m(En):m(Tn),"fixed-width":""},null,8,["icon"])]),_:1},512),[[Le,n.value!=="muted"]]),C("input",{ref_key:"inputEl",ref:t,class:"plyr__volume !w-[120px] before:absolute before:left-0 before:right-0 before:top-[-12px] before:bottom-[-12px]",max:"10",role:"slider",step:"0.1",title:"Volume",type:"range",onInput:s},null,544)],2)}}}),xa=F(ba,[["__scopeId","data-v-945c552d"]]),ka=D({__name:"FooterQueueButton",setup(e){const{go:t,isCurrentScreen:n}=be(),{toastWarning:o,toastSuccess:a}=at(),{acceptsDrop:s,resolveDroppedItems:r}=_o(["playables","album","artist","playlist","playlist-folder"]),i=k(!1),c=p=>i.value=s(p),d=p=>{var f,g;(g=(f=p.currentTarget)==null?void 0:f.contains)!=null&&g.call(f,p.relatedTarget)||(i.value=!1)},l=async p=>{i.value=!1,p.preventDefault();const f=await r(p)||[];return f.length?(_.queue(f),a(`Added ${Ze(f,"item")} to queue.`)):o("No applicable items to queue."),!1},u=()=>t(n("Queue")?-1:"queue");return(p,f)=>{const g=ee("Icon");return h(),x(K,{class:ie([i.value&&"droppable","queue-btn"]),title:"Queue (Q)",onClick:O(u,["prevent"]),onDragleave:O(d,["prevent"]),onDrop:O(l,["prevent"]),onDragenter:O(c,["prevent"]),onDragover:f[0]||(f[0]=O(()=>{},["prevent"]))},{default:z(()=>[y(g,{icon:m(Sn),"fixed-width":""},null,8,["icon"])]),_:1},8,["class","onClick","onDragleave","onDrop","onDragenter"])}}}),Ea=F(ka,[["__scopeId","data-v-aa9d82a3"]]),Ta={class:"extra-controls flex justify-end relative md:w-[420px] px-6 md:px-8 py-0"},Sa={class:"flex justify-end items-center gap-6"},Aa=D({__name:"FooterExtraControls",setup(e){const t=k(!1),n=L(()=>t.value?"Exit fullscreen mode":"Enter fullscreen mode"),{go:o,isCurrentScreen:a}=be(),s=()=>ae.emit("MODAL_SHOW_EQUALIZER"),r=()=>ae.emit("FULLSCREEN_TOGGLE"),i=()=>o(a("Visualizer")?-1:"visualizer");return pe(()=>{document.addEventListener("fullscreenchange",()=>{t.value=!!document.fullscreenElement})}),(c,d)=>{const l=ee("Icon");return h(),P("div",Ta,[C("div",Sa,[y(Ea),y(K,{class:"visualizer-btn hidden md:!block","data-testid":"toggle-visualizer-btn",title:"Toggle visualizer",onClick:O(i,["prevent"])},{default:z(()=>[y(l,{icon:m(An),"fixed-width":""},null,8,["icon"])]),_:1},8,["onClick"]),m(tt)?(h(),x(K,{key:0,class:ie([{active:s},"equalizer"]),title:"Show equalizer",onClick:O(s,["prevent"])},{default:z(()=>[y(l,{icon:m($n),"fixed-width":""},null,8,["icon"])]),_:1},8,["class","onClick"])):S("",!0),y(xa),m(cn)()?(h(),x(K,{key:1,title:n.value,onClick:O(r,["prevent"])},{default:z(()=>[y(l,{icon:t.value?m(Cn):m(Pn),"fixed-width":""},null,8,["icon"])]),_:1},8,["title","onClick"])):S("",!0)])])}}}),$a=F(Aa,[["__scopeId","data-v-41f1392d"]]),Ca=["title","onClick"],Pa=D({__name:"RepeatModeSwitch",setup(e){const t=ln($.state,"repeat_mode"),n=L(()=>t.value.split("_").map(a=>a[0].toUpperCase()+a.substring(1).toLowerCase()).join(" ")),o=()=>W.rotateRepeatMode();return(a,s)=>{const r=Ct("koel-tooltip");return ve((h(),P("button",{class:ie([{active:t.value!=="NO_REPEAT"},"opacity-30"]),title:`Change repeat mode (current: ${n.value})`,"data-testid":"repeat-mode-switch",type:"button",onClick:O(o,["prevent"])},[t.value==="REPEAT_ONE"?(h(),x(m(ea),{key:0,size:16})):(h(),x(m(ta),{key:1,size:16}))],10,Ca)),[[r,void 0,void 0,{top:!0}]])}}}),Ra=F(Pa,[["__scopeId","data-v-1300e860"]]),La=D({__name:"FooterPlayButton",setup(e){const{getCurrentScreen:t,getRouteParam:n,go:o}=be(),a=we(Se,k()),s=L(()=>B.state.song_count===0),r=L(()=>{var d;return((d=a.value)==null?void 0:d.playback_state)==="Playing"}),i=async()=>a.value?W.toggle():c(),c=async()=>{if(s.value)return;let d;switch(t()){case"Album":d=await q.fetchForAlbum(parseInt(n("id")));break;case"Artist":d=await q.fetchForArtist(parseInt(n("id")));break;case"Playlist":d=await q.fetchForPlaylist(n("id"));break;case"Favorites":d=await et.fetch();break;case"RecentlyPlayed":d=await Lt.fetch();break;default:d=await _.fetchRandom();break}await W.queueAndPlay(d),o("queue")};return(d,l)=>{const u=ee("Icon");return h(),x(K,{title:r.value?"Pause":"Play or resume",class:"!w-[3rem] rounded-full border-2 border-solid aspect-square !transition-transform hover:scale-125 !text-2xl has-[.icon-play]:indent-[0.23rem]",onClick:O(i,["prevent"])},{default:z(()=>[r.value?(h(),x(u,{key:0,icon:m(Rn)},null,8,["icon"])):(h(),x(u,{key:1,icon:m(Ln),class:"icon-play"},null,8,["icon"]))]),_:1},8,["title","onClick"])}}}),Da={class:"playback-controls flex flex-1 flex-col justify-center"},Oa={class:"flex items-center justify-between md:justify-center gap-5 md:gap-12 px-4 md:px-0"},Ia={key:1,type:"button"},Ma=D({__name:"FooterPlaybackControls",setup(e){const t=we(Se,k()),n=async()=>await W.playPrev(),o=async()=>await W.playNext();return(a,s)=>{const r=ee("Icon");return h(),P("div",Da,[C("div",Oa,[m(t)?(h(),x(Ao,{key:0,playable:m(t),class:"text-base"},null,8,["playable"])):(h(),P("button",Ia)),y(K,{class:"text-2xl",title:"Play previous in queue",onClick:O(n,["prevent"])},{default:z(()=>[y(r,{icon:m(Dn)},null,8,["icon"])]),_:1},8,["onClick"]),y(La),y(K,{class:"text-2xl",title:"Play next in queue",onClick:O(o,["prevent"])},{default:z(()=>[y(r,{icon:m(On)},null,8,["icon"])]),_:1},8,["onClick"]),y(Ra,{class:"text-base"})])])}}}),Na=F(Ma,[["__scopeId","data-v-cd8de97a"]]),Fa=e=>(nt("data-v-4c68a79b"),e=e(),ot(),e),qa=["onContextmenu"],za=Fa(()=>C("div",{class:"fullscreen-backdrop hidden"},null,-1)),Ha={class:"wrapper relative flex flex-1"},Ba=D({__name:"index",setup(e){It(p=>({"54f6dbd2":r.value}));const t=we(Se,k());let n;const o=k(),a=k(),s=p=>{document.fullscreenElement||t.value&&ae.emit("PLAYABLE_CONTEXT_MENU_REQUESTED",p,t.value)};ye(t,async()=>{t.value&&X(t.value)&&(a.value=await $t.resolve(t.value.artist_id))});const r=L(()=>{var f;if(!t.value||!X(t.value))return"none";const p=((f=a.value)==null?void 0:f.image)??t.value.album_cover;return p?`url(${p})`:"none"}),i=async()=>{const p=document.querySelector(".plyr");if(!p){await un(),await i();return}W.init(p),tt&&Qt.init(W.player.media)};ye($.initialized,async p=>{p&&await i()},{immediate:!0});const c=()=>{n=window.setTimeout(()=>{var p;return(p=o.value)==null?void 0:p.classList.add("hide-controls")},5e3)},d=We.throttle(()=>{var p;document.fullscreenElement&&((p=o.value)==null||p.classList.remove("hide-controls"),window.clearTimeout(n),c())},100),{isFullscreen:l,toggle:u}=In(o);return ye(l,p=>{var f;p?(c(),(f=o.value)==null||f.classList.remove("hide-controls")):window.clearTimeout(n)}),ae.on("FULLSCREEN_TOGGLE",()=>u()),(p,f)=>(h(),P("footer",{ref_key:"root",ref:o,class:"flex flex-col relative z-20 bg-k-bg-secondary h-k-footer-height",onMousemove:f[0]||(f[0]=(...g)=>m(d)&&m(d)(...g)),onContextmenu:O(s,["prevent"])},[ve(y(pa,null,null,512),[[Le,m(t)]]),za,C("div",Ha,[y(wa),y(Na),y($a)])],40,qa))}}),Ua=F(Ba,[["__scopeId","data-v-4c68a79b"]]),Va=D({__name:"GlobalEventListeners",setup(e){let t,n,o;return pe(()=>{t=at().toastSuccess,n=Nn().showConfirmDialog,o=be().go}),ae.on("PLAYLIST_DELETE",async a=>{await n(`Delete the playlist "${a.name}"?`)&&(await Ge.delete(a),t(`Playlist "${a.name}" deleted.`),o("home"))}).on("PLAYLIST_FOLDER_DELETE",async a=>{await n(`Delete the playlist folder "${a.name}"?`)&&(await At.delete(a),t(`Playlist folder "${a.name}" deleted.`),o("home"))}).on("LOG_OUT",async()=>{await Qe.logout(),Bt()}),(a,s)=>Je(a.$slots,"default")}}),Ga=D({__name:"AppInitializer",emits:["success","error"],setup(e,{emit:t}){const{showOverlay:n,hideOverlay:o}=xo(),a=async()=>{$.show_now_playing_notification&&window.Notification&&window.Notification.permission!=="granted"&&($.show_now_playing_notification=await window.Notification.requestPermission()==="denied")};return pe(async()=>{n({message:"Just a little patience…"});try{await B.init(),await a(),window.addEventListener("beforeunload",s=>{(Rt.shouldWarnUponWindowUnload()||$.confirm_before_closing)&&(s.preventDefault(),s.returnValue="")}),await ne.init()&&Ro.listen(),t("success")}catch(s){Fn().handleHttpError(s),t("error",s)}finally{o()}}),(s,r)=>Je(s.$slots,"default")}}),Ka=D({__name:"App",setup(e){const t=M(()=>N(()=>import("./HotkeyListener-Bn5pnH0n.js"),__vite__mapDeps([3,4,1,2,5,6,7]))),n=M(()=>N(()=>import("./LoginForm-CUGZ7zZd.js"),__vite__mapDeps([8,1,2,9,5,10,7,11,12,13,14]))),o=M(()=>N(()=>import("./index-Dvdk0smA.js").then(Y=>Y.t),__vite__mapDeps([15,1,2,4,5,11,16,6,17,0,18,7,19]))),a=M(()=>N(()=>import("./AlbumContextMenu-5JOljGdZ.js"),__vite__mapDeps([20,1,2,17,21,18,4,5,6,7]))),s=M(()=>N(()=>import("./ArtistContextMenu-CUV4MTcR.js"),__vite__mapDeps([22,1,2,17,21,18,4,5,6,7]))),r=M(()=>N(()=>import("./PlaylistContextMenu-B_S4zHq1.js"),__vite__mapDeps([23,1,2,21,18,4,5,6,7]))),i=M(()=>N(()=>import("./PlaylistFolderContextMenu-DVVDHNG3.js"),__vite__mapDeps([24,1,2,21,18,4,5,6,7]))),c=M(()=>N(()=>import("./PlayableContextMenu-D29T9AKt.js"),__vite__mapDeps([25,1,2,6,17,21,18,4,5,16,7]))),d=M(()=>N(()=>import("./CreatePlaylistContextMenu-yymPk17F.js"),__vite__mapDeps([26,1,2,21,18,4]))),l=M(()=>N(()=>import("./SupportKoel-B7HYlkU6.js"),__vite__mapDeps([27,1,2,4,5,6,7,28]))),u=M(()=>N(()=>import("./DropZone-D8A6KkN4.js"),__vite__mapDeps([29,4,1,2,18,5,6,7,30]))),p=M(()=>N(()=>import("./AcceptInvitation-C2VpBZxh.js"),__vite__mapDeps([31,1,2,5,32,10,7,11,12,4,6]))),f=M(()=>N(()=>import("./ResetPasswordForm-NaO6cyAt.js"),__vite__mapDeps([33,1,2,5,10,7,11,4,6]))),g=k(),T=k(),v=k(),w=k(),b=k(!1),E=k(),{isCurrentScreen:R,getCurrentScreen:fe,resolveRoute:j}=be(),ce=Mn(),A=k(!1),I=k(!1),Q=()=>A.value=!0,$e=()=>{E.value="main",Q()},me=async()=>{A.value=!1,I.value=!0,await j(),E.value="main"},le=()=>{A.value=!1,E.value="auth"};pe(async()=>{if(window.AUTH_TOKEN&&Qe.setTokensUsingCompositeToken(window.AUTH_TOKEN),Qe.hasApiToken()){Q();return}switch(await j(),fe()){case"Invitation.Accept":E.value="invitation";break;case"Password.Reset":E.value="reset-password";break;default:E.value="auth"}document.documentElement.classList.add(navigator.userAgent.includes("Mac")?"mac":"non-mac")});const He=Y=>{var V;b.value=!!((V=Y.dataTransfer)!=null&&V.types.includes("Files"))&&!R("Upload")};ye(()=>_.current,Y=>w.value=Y);const Yt=()=>b.value=!1,Xt=Y=>{var V,Be;(Be=(V=Y.currentTarget)==null?void 0:V.contains)!=null&&Be.call(V,Y.relatedTarget)||(b.value=!1)},Zt=()=>b.value=!1;return Ce(zt,g),Ce(qn,T),Ce(zn,v),Ce(Se,w),(Y,V)=>(h(),P(Ot,null,[y(Zo,{ref_key:"overlay",ref:g},null,512),y(Ho,{ref_key:"dialog",ref:T},null,512),y(Wo,{ref_key:"toaster",ref:v},null,512),y(Va),m(ce)?S("",!0):(h(),x(ra,{key:0})),E.value==="main"&&I.value?(h(),P("main",{key:1,class:"absolute md:relative top-0 h-full md:h-screen pt-k-header-height md:pt-0 w-full md:w-auto flex flex-col justify-end",onDragend:Yt,onDragleave:Xt,onDragover:He,onDrop:Zt},[y(m(t)),y(m(o)),y(Ua),y(m(l)),y(m(c)),y(m(a)),y(m(s)),y(m(r)),y(m(i)),y(m(d)),ve(y(m(u),{onClose:V[0]||(V[0]=Be=>b.value=!1)},null,512),[[Le,b.value]])],32)):S("",!0),E.value==="auth"?(h(),x(m(n),{key:2,onLoggedin:$e})):S("",!0),E.value==="invitation"?(h(),x(m(p),{key:3})):S("",!0),E.value==="reset-password"?(h(),x(m(f),{key:4})):S("",!0),A.value?(h(),x(Ga,{key:5,onError:le,onSuccess:me})):S("",!0)],64))}});dn(Ka).provide(Ht,new _e(Oo)).component("Icon",pn).component("IconLayers",fn).directive("koel-focus",Bn).directive("koel-tooltip",uo).directive("koel-hide-broken-icon",fo).directive("koel-overflow-fade",mo).directive("koel-new-tab",po).mount("#app");var St;(St=navigator.serviceWorker)==null||St.register("./sw.js");export{Jn as T,Ao as _,co as a,Za as b,bo as c,_o as d,vo as e,ct as f,$o as g,ko as h,Lo as i,ho as j,xo as k,Qt as l,jn as m,Do as n,Et as o,W as p,be as u,ao as z};
