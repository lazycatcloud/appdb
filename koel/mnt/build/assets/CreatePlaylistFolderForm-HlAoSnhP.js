import{t as w,r as k,k as C,o as b,n as x,T as s,W as a,z as l,m as B,Y as i,A as c,au as V,c as g}from"./userStore-DI58VgZ6.js";import{u as D,a as F,B as m,b as S}from"./Btn-2hiIT76k.js";import{k as N}from"./app-Dh_3ddLE.js";import{_ as E}from"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import{_ as K}from"./FormRow.vue_vue_type_script_setup_true_lang-jRw1p4cD.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";const O=["onSubmit","onKeydown"],P=s("header",null,[s("h1",null,"New Playlist Folder")],-1),Y=w({__name:"CreatePlaylistFolderForm",emits:["close"],setup(T,{emit:u}){const{showOverlay:d,hideOverlay:f}=N(),{toastSuccess:p}=D(),{showConfirmDialog:_}=F(),e=k(""),t=()=>u("close"),y=async()=>{d();try{const o=await g.store(e.value);t(),p(`Playlist folder "${o.name}" created.`)}catch(o){S("dialog").handleHttpError(o)}finally{f()}},r=async()=>{if(e.value.trim()===""){t();return}await _("Discard all changes?")&&t()};return(o,n)=>{const h=C("koel-focus");return b(),x("form",{class:"md:w-[420px] min-w-full",onSubmit:c(y,["prevent"]),onKeydown:V(r,["esc"])},[P,s("main",null,[a(K,null,{default:l(()=>[B(a(E,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=v=>e.value=v),name:"name",placeholder:"Folder name",required:""},null,8,["modelValue"]),[[h]])]),_:1})]),s("footer",null,[a(m,{type:"submit"},{default:l(()=>[i("Save")]),_:1}),a(m,{white:"",onClick:c(r,["prevent"])},{default:l(()=>[i("Cancel")]),_:1},8,["onClick"])])],40,O)}}});export{Y as default};
