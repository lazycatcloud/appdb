function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Btn-2hiIT76k.js","assets/userStore-DI58VgZ6.js","assets/userStore-CkW9hTsr.css","assets/SmartPlaylistRule-DOs7svGT.js","assets/index-bkhK2U3_.js","assets/FormRow.vue_vue_type_script_setup_true_lang-jRw1p4cD.js","assets/SelectBox-CnkytuoA.js","assets/SelectBox-lAjypkF6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as C,o,n as l,q as S,t as k,v as E,a4 as y,a5 as R,a3 as I,x as F,T as r,B as d,a0 as m,Y as p,a1 as O,y as w,W as g,z as N,A as V,b as G,r as A}from"./userStore-DI58VgZ6.js";import{B as T}from"./Btn-2hiIT76k.js";import{P as $}from"./index-bkhK2U3_.js";import L from"./SoundBars-BQEuboqd.js";const j={},q={class:"smart-playlist-form md:w-[560px]"};function D(n,e){return o(),l("div",q,[S(n.$slots,"default")])}const J=C(j,[["render",D],["__scopeId","data-v-840bcb5a"]]),z={class:"relative p-4 rounded-md border border-white/15"},M={class:"mb-3"},U=r("strong",null,"all",-1),W=r("strong",null,"all",-1),Y={class:"space-y-2 mb-2"},H={class:"text-center absolute w-full left-0 -mt-[2px]"},K=k({__name:"SmartPlaylistRuleGroup",props:{group:{},isFirstGroup:{type:Boolean}},emits:["input"],setup(n,{emit:e}){const f=n,{group:h,isFirstGroup:c}=E(f),i=y(()=>R(()=>import("./Btn-2hiIT76k.js").then(t=>t.i),__vite__mapDeps([0,1,2]))),a=y(()=>R(()=>import("./SmartPlaylistRule-DOs7svGT.js"),__vite__mapDeps([3,1,2,4,5,6,7,0]))),s=I(JSON.parse(JSON.stringify(h.value))),v=()=>e("input",s),B=()=>s.rules.push(G.createEmptySmartPlaylistRule()),b=t=>{Object.assign(s.rules.find(({id:u})=>u===t.id),t),v()},P=t=>{s.rules=s.rules.filter(({id:u})=>u!==t.id),v()};return(t,u)=>{const x=F("Icon");return o(),l("div",z,[r("h4",M,[r("span",null,[d(c)?(o(),l(m,{key:0},[p(" Include songs that match "),U,p(" of these criteria ")],64)):(o(),l(m,{key:1},[p(" or "),W,p(" of these criteria ")],64))])]),r("div",Y,[(o(!0),l(m,null,O(s.rules,_=>(o(),w(d(a),{key:_.id,rule:_,onInput:b,onRemove:Q=>P(_)},null,8,["rule","onRemove"]))),128))]),r("div",H,[g(d(i),{class:"aspect-square scale-75 hover:scale-90 active:scale-[80%]",rounded:"",small:"",success:"",title:"Remove this rule",onClick:V(B,["prevent"])},{default:N(()=>[g(x,{icon:d($)},null,8,["icon"])]),_:1},8,["onClick"])])])}}}),se=(n=[])=>{const e=A(n);return{Btn:T,FormBase:J,RuleGroup:K,SoundBars:L,collectedRuleGroups:e,addGroup:()=>e.value.push(G.createEmptySmartPlaylistRuleGroup()),onGroupChanged:c=>{const i=Object.assign(e.value.find(({id:a})=>a===c.id),c);i.rules.length===0&&(e.value=e.value.filter(({id:a})=>a!==i.id))}}};export{se as u};
