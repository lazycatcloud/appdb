import{t as B,r as E,ac as U,i as g,h as c,e as D,d as m,f as M,o as t,y as q,z as N,n as l,a0 as d,T as o,U as n,B as T,s as p}from"./userStore-DI58VgZ6.js";import{d as F}from"./downloadService-C6bGKWwx.js";import{u as P,p as f}from"./app-Dh_3ddLE.js";import{u as R}from"./useContextMenu-uqGsLwl5.js";import"./index-bkhK2U3_.js";import"./Btn-2hiIT76k.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./index-SJV2sFs2.js";const V=o("li",{class:"separator"},null,-1),G=o("li",{class:"separator"},null,-1),K=B({__name:"AlbumContextMenu",setup($){const{go:s}=P(),{base:_,ContextMenu:v,open:k,trigger:a}=R(),e=E(),b=U(g.state,"allows_download"),r=c(()=>!D.isUnknown(e.value)),w=c(()=>!m.isUnknown(e.value.artist_id)&&!m.isVarious(e.value.artist_id)),A=()=>a(async()=>{f.queueAndPlay(await p.fetchForAlbum(e.value)),s("queue")}),y=()=>a(async()=>{f.queueAndPlay(await p.fetchForAlbum(e.value),!0),s("queue")}),C=()=>a(()=>s(`album/${e.value.id}`)),S=()=>a(()=>s(`artist/${e.value.artist_id}`)),h=()=>a(()=>F.fromAlbum(e.value));return M.on("ALBUM_CONTEXT_MENU_REQUESTED",async({pageX:u,pageY:i},x)=>{e.value=x,await k(i,u)}),(u,i)=>(t(),q(T(v),{ref_key:"base",ref:_,"data-testid":"album-context-menu","extra-class":"album-menu"},{default:N(()=>[e.value?(t(),l(d,{key:0},[o("li",{onClick:A},"Play All"),o("li",{onClick:y},"Shuffle All"),V,r.value?(t(),l("li",{key:0,onClick:C},"Go to Album")):n("",!0),w.value?(t(),l("li",{key:1,onClick:S},"Go to Artist")):n("",!0),r.value&&b.value?(t(),l(d,{key:2},[G,o("li",{onClick:h},"Download")],64)):n("",!0)],64)):n("",!0)]),_:1},512))}});export{K as default};
