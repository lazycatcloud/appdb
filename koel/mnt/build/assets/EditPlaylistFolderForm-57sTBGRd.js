import{t as k,r as C,k as F,o as b,n as g,T as a,W as o,z as r,m as x,Y as m,A as c,au as B,c as V}from"./userStore-DI58VgZ6.js";import{u as D,a as S,B as d,b as E}from"./Btn-2hiIT76k.js";import{u as K}from"./useModal-DVUoJGRd.js";import{k as M}from"./app-Dh_3ddLE.js";import{_ as N}from"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import{_ as O}from"./FormRow.vue_vue_type_script_setup_true_lang-jRw1p4cD.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";const P=["onSubmit","onKeydown"],T=a("header",null,[a("h1",null,"Rename Playlist Folder")],-1),G=k({__name:"EditPlaylistFolderForm",emits:["close"],setup(H,{emit:u}){const{showOverlay:f,hideOverlay:p}=M(),{toastSuccess:_}=D(),{showConfirmDialog:y}=S(),t=K().getFromContext("folder"),e=C(t.name),h=async()=>{f();try{await V.rename(t,e.value),_("Playlist folder renamed."),s()}catch(n){E("dialog").handleHttpError(n)}finally{p()}},s=()=>u("close"),l=async()=>{if(e.value.trim()===t.name){s();return}await y("Discard all changes?")&&s()};return(n,i)=>{const v=F("koel-focus");return b(),g("form",{onSubmit:c(h,["prevent"]),onKeydown:B(l,["esc"])},[T,a("main",null,[o(O,null,{default:r(()=>[x(o(N,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=w=>e.value=w),name:"name",placeholder:"Folder name",required:"",title:"Folder name"},null,8,["modelValue"]),[[v]])]),_:1})]),a("footer",null,[o(d,{type:"submit"},{default:r(()=>[m("Save")]),_:1}),o(d,{white:"",onClick:c(l,["prevent"])},{default:r(()=>[m("Cancel")]),_:1},8,["onClick"])])],40,P)}}});export{G as default};
