function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AlbumInfo-r6keh5TY.js","assets/userStore-DI58VgZ6.js","assets/userStore-CkW9hTsr.css","assets/index-Dvdk0smA.js","assets/index-bkhK2U3_.js","assets/app-Dh_3ddLE.js","assets/Btn-2hiIT76k.js","assets/common-Qp7bRr50.js","assets/index-BBRRzm9T.js","assets/app-ByHGIipi.css","assets/TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js","assets/usePlaylistManagement-BYa-nJNx.js","assets/downloadService-C6bGKWwx.js","assets/SoundBars-BQEuboqd.js","assets/index-SJV2sFs2.js","assets/index-DX8rpkdI.css","assets/ExpandableContentBlock.vue_vue_type_script_setup_true_lang-DjEn_-8g.js","assets/AlbumCard-DCvw717Q.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{t as ue,r as d,a4 as h,a5 as w,ac as I,i as B,h as ie,d as O,w as T,e as P,s as me,f as de,k as ve,o as t,y as r,z as n,U as v,B as e,W as b,n as u,V as _,T as i,p as ce,A as pe,Y as k,am as fe,X as V,m as c,aA as C,aa as L,a0 as D,a1 as R}from"./userStore-DI58VgZ6.js";import{d as _e}from"./downloadService-C6bGKWwx.js";import{b as ye}from"./Btn-2hiIT76k.js";import{u as be}from"./app-Dh_3ddLE.js";import{u as Se,c as ke,S as ge,A as Ae,d as he,e as x,b as we}from"./index-Dvdk0smA.js";import{S as Pe}from"./ScreenHeaderSkeleton-BPPtSZSV.js";import{S as Ve}from"./ArtistAlbumScreenTabs-BtbdPDVW.js";import"./index-bkhK2U3_.js";import"./common-Qp7bRr50.js";import"./index-BBRRzm9T.js";import"./TextInput.vue_vue_type_script_setup_true_lang-Cn7Fe5WG.js";import"./usePlaylistManagement-BYa-nJNx.js";import"./SoundBars-BQEuboqd.js";import"./index-SJV2sFs2.js";const Ce=["href"],Le={key:1,class:"nope"},De=["onClick"],Ee={class:"songs-pane"},Ie={class:"albums-pane","data-testid":"albums-pane"},Be={key:1,class:"text-k-text-secondary p-6"},Oe={key:0,class:"info-pane"},qe=ue({__name:"AlbumScreen",setup(Te){const l=d("Songs"),N=h(()=>w(()=>import("./AlbumInfo-r6keh5TY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),U=h(()=>w(()=>import("./AlbumCard-DCvw717Q.js"),__vite__mapDeps([17,3,1,2,4,5,6,7,8,9,10,11,12,13,14,15]))),F=h(()=>w(()=>import("./index-Dvdk0smA.js").then(m=>m.s),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12,13,14,15]))),{getRouteParam:H,go:z,onScreenActivated:G}=be(),g=d(),a=d(),y=d([]),p=d(!1);let f=d(),M=d();const{SongList:W,ControlsToggle:X,headerLayout:Y,songList:$,showingControls:S,isPhone:j,duration:q,context:J,sort:K,onPressEnter:Q,playAll:Z,playSelected:ee,applyFilter:ae,onScrollBreakpoint:te}=Se(y,{type:"Album"}),{SongListControls:le,config:oe}=ke("Album"),E=I(B.state,"uses_last_fm"),se=I(B.state,"allows_download"),ne=ie(()=>a.value?!O.isVarious(a.value.artist_id)&&!O.isUnknown(a.value.artist_id):!0),re=()=>_e.fromAlbum(a.value);return T(l,async m=>{if(m==="OtherAlbums"&&!f.value){const o=await P.fetchForArtist(a.value.artist_id);f.value=o.filter(({id:A})=>A!==a.value.id)}}),T(g,async m=>{if(!(!m||p.value)){a.value=void 0,M.value=void 0,f.value=void 0,l.value="Songs",p.value=!0;try{[a.value,y.value]=await Promise.all([P.resolve(m),me.fetchForAlbum(m)]),J.entity=a.value,K("track")}catch(o){ye("dialog").handleHttpError(o)}finally{p.value=!1}}}),G("Album",()=>g.value=parseInt(H("id"))),de.on("SONGS_UPDATED",()=>P.byId(g.value)||z("albums")),(m,o)=>{const A=ve("koel-overflow-fade");return a.value?(t(),r(we,{key:0},{header:n(()=>[p.value?(t(),r(Pe,{key:0})):v("",!0),!p.value&&a.value?(t(),r(ge,{key:1,layout:y.value.length===0?"collapsed":e(Y)},{thumbnail:n(()=>[b(Ae,{entity:a.value},null,8,["entity"])]),meta:n(()=>[ne.value?(t(),u("a",{key:0,href:`#/artist/${a.value.artist_id}`,class:"artist"},_(a.value.artist_name),9,Ce)):(t(),u("span",Le,_(a.value.artist_name),1)),i("span",null,_(e(ce)(y.value,"item")),1),i("span",null,_(e(q)),1),se.value?(t(),u("a",{key:2,class:"download",role:"button",title:"Download all songs in album",onClick:pe(re,["prevent"])}," Download All ",8,De)):v("",!0)]),controls:n(()=>[y.value.length&&(!e(j)||e(S))?(t(),r(e(le),{key:0,config:e(oe),onFilter:e(ae),onPlayAll:e(Z),onPlaySelected:e(ee)},null,8,["config","onFilter","onPlayAll","onPlaySelected"])):v("",!0)]),default:n(()=>[k(_(a.value.name)+" ",1),b(e(X),{modelValue:e(S),"onUpdate:modelValue":o[0]||(o[0]=s=>fe(S)?S.value=s:null)},null,8,["modelValue"])]),_:1},8,["layout"])):v("",!0)]),default:n(()=>[b(Ve,{class:"-m-6"},{header:n(()=>[i("label",{class:V({active:l.value==="Songs"})},[k(" Songs "),c(i("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>l.value=s),name:"tab",type:"radio",value:"Songs"},null,512),[[C,l.value]])],2),i("label",{class:V({active:l.value==="OtherAlbums"})},[k(" Other Albums "),c(i("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>l.value=s),name:"tab",type:"radio",value:"OtherAlbums"},null,512),[[C,l.value]])],2),E.value?(t(),u("label",{key:0,class:V({active:l.value==="Info"})},[k(" Information "),c(i("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>l.value=s),name:"tab",type:"radio",value:"Info"},null,512),[[C,l.value]])],2)):v("",!0)]),default:n(()=>[c(i("div",Ee,[p.value?(t(),r(he,{key:0})):(t(),r(e(W),{key:1,ref_key:"songList",ref:$,"onPress:enter":e(Q),onScrollBreakpoint:e(te)},null,8,["onPress:enter","onScrollBreakpoint"]))],512),[[L,l.value==="Songs"]]),c(i("div",Ie,[e(f)?(t(),u(D,{key:0},[e(f).length?c((t(),r(x,{key:0,"view-mode":"list"},{default:n(()=>[(t(!0),u(D,null,R(e(f),s=>(t(),r(e(U),{key:s.id,album:s,layout:"compact"},null,8,["album"]))),128))]),_:1})),[[A]]):(t(),u("p",Be," No other albums by "+_(a.value.artist_name)+" found in the library. ",1))],64)):(t(),r(x,{key:1,"view-mode":"list"},{default:n(()=>[(t(),u(D,null,R(6,s=>b(e(F),{key:s,layout:"compact"})),64))]),_:1}))],512),[[L,l.value==="OtherAlbums"]]),E.value&&a.value?c((t(),u("div",Oe,[b(e(N),{album:a.value,mode:"full"},null,8,["album"])],512)),[[L,l.value==="Info"]]):v("",!0)]),_:1})]),_:1})):v("",!0)}}});export{qe as default};
